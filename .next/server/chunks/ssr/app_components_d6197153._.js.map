{"version":3,"sources":["../../../../app/components/CommentArea.tsx","../../../../app/components/CelebarytoryV3.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useRef, useEffect } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\ninterface Comment {\r\n    id: string;\r\n    text: string;\r\n    image?: string;\r\n    createdAt: string;\r\n}\r\n\r\nexport default function CommentArea({ slug }: { slug: string }) {\n    const [comments, setComments] = useState<Comment[]>([]);\n    const [text, setText] = useState(\"\");\n    const [selectedImage, setSelectedImage] = useState<string | null>(null);\n    const [isLoading, setIsLoading] = useState(false);\n    const [deletingCommentId, setDeletingCommentId] = useState<string | null>(null);\n    const fileInputRef = useRef<HTMLInputElement>(null);\n\r\n    // Fetch comments on mount\r\n    useEffect(() => {\r\n        if (!slug) return;\r\n        fetch(`/api/comments?slug=${slug}`)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if (Array.isArray(data)) setComments(data);\r\n            })\r\n            .catch(err => console.error(\"Failed to load comments\", err));\r\n    }, [slug]);\r\n\r\n    const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0];\r\n        if (file) {\r\n            const reader = new FileReader();\r\n            reader.onloadend = () => {\r\n                setSelectedImage(reader.result as string);\r\n            };\r\n            reader.readAsDataURL(file);\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\r\n        if (!text.trim() && !selectedImage) return;\r\n\r\n        setIsLoading(true);\r\n\r\n        try {\r\n            const res = await fetch('/api/comments', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    text,\r\n                    image: selectedImage,\r\n                    slug,\r\n                }),\r\n            });\r\n\r\n            if (res.ok) {\r\n                const newComment = await res.json();\r\n                setComments([newComment, ...comments]);\r\n                setText(\"\");\r\n                setSelectedImage(null);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Failed to post comment\", error);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\n\n    const handleDeleteComment = async (commentId: string) => {\n        setDeletingCommentId(commentId);\n\n        try {\n            const res = await fetch(`/api/comments?id=${encodeURIComponent(commentId)}&slug=${encodeURIComponent(slug)}`, {\n                method: \"DELETE\",\n            });\n\n            if (res.ok) {\n                setComments((prev) => prev.filter((comment) => comment.id !== commentId));\n            }\n        } catch (error) {\n            console.error(\"Failed to delete comment\", error);\n        } finally {\n            setDeletingCommentId(null);\n        }\n    };\n\r\n    return (\n        <section className=\"max-w-2xl mx-auto mt-14 mb-10 px-4\">\n            <div className=\"rounded-3xl border-2 border-zinc-300 bg-zinc-50/95 shadow-[0_10px_30px_rgba(0,0,0,0.08)] p-5 sm:p-6 dark:border-zinc-700 dark:bg-zinc-900/95\">\n                <h2 className=\"text-2xl font-bold mb-6 text-zinc-900 dark:text-zinc-100\">Discussion</h2>\n\n                {/* Input Area */}\n                <div className={`bg-white dark:bg-zinc-900 rounded-2xl shadow-md border-2 border-zinc-200 dark:border-zinc-700 p-4 mb-8 transition-opacity ${isLoading ? 'opacity-50 pointer-events-none' : ''}`}>\n                    <form onSubmit={handleSubmit} className=\"flex flex-col gap-4\">\n                        <textarea\n                            value={text}\n                            onChange={(e) => setText(e.target.value)}\n                            placeholder=\"Write a comment...\"\n                            className=\"w-full resize-none bg-zinc-50 dark:bg-zinc-800/80 border border-zinc-200 dark:border-zinc-700 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-zinc-400 text-zinc-800 dark:text-zinc-200 placeholder-zinc-400 min-h-[90px]\"\n                        />\n\r\n                        {selectedImage && (\n                            <div className=\"relative w-fit\">\n                                <img\n                                    src={selectedImage}\n                                    alt=\"Preview\"\n                                    className=\"h-32 w-auto rounded-lg object-cover border border-zinc-200 dark:border-zinc-700\"\n                                />\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setSelectedImage(null)}\n                                    className=\"absolute -top-2 -right-2 bg-zinc-900 text-white rounded-full p-1 shadow-md hover:bg-zinc-700 transition-colors\"\n                                >\n                                    <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"3\">\n                                        <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n                                        <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n                                    </svg>\n                                </button>\n                            </div>\n                        )}\n\r\n                        <div className=\"flex items-center justify-between border-t border-zinc-100 dark:border-zinc-800 pt-3\">\n                            <div className=\"flex gap-2\">\n                                <button\n                                    type=\"button\"\n                                    onClick={() => fileInputRef.current?.click()}\n                                    className=\"p-2 text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-200 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-full transition-colors\"\n                                    title=\"Add Image\"\n                                >\n                                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                        <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect>\n                                        <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\"></circle>\n                                        <polyline points=\"21 15 16 10 5 21\"></polyline>\n                                    </svg>\n                                </button>\n                                <input\n                                    type=\"file\"\n                                    ref={fileInputRef}\n                                    onChange={handleImageUpload}\n                                    accept=\"image/*\"\n                                    className=\"hidden\"\n                                />\n                            </div>\n\r\n                            <button\n                                type=\"submit\"\n                                disabled={!text.trim() && !selectedImage}\n                                className=\"px-4 py-2 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 text-sm font-semibold rounded-full hover:bg-zinc-800 dark:hover:bg-zinc-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all\"\n                            >\n                                {isLoading ? 'Posting...' : 'Post Comment'}\n                            </button>\n                        </div>\n                    </form>\n                </div>\n\n                {/* Comments List */}\n                <div className=\"space-y-4\">\n                    <AnimatePresence initial={false} mode=\"popLayout\">\n                        {comments.map((comment) => (\n                            <motion.div\n                                key={comment.id}\n                                initial={{ opacity: 0, y: 20, scale: 0.95 }}\n                                animate={{ opacity: 1, y: 0, scale: 1 }}\n                                exit={{ opacity: 0, scale: 0.9 }}\n                                layout\n                                className=\"flex gap-4 p-4 bg-white dark:bg-zinc-900 rounded-2xl border-2 border-zinc-200 dark:border-zinc-700 shadow-sm\"\n                            >\n                            <div className=\"flex-shrink-0\">\r\n                                <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold text-sm\">\r\n                                    U\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"flex-1 min-w-0\">\n                                <div className=\"flex items-baseline justify-between mb-1\">\n                                    <span className=\"font-semibold text-zinc-900 dark:text-zinc-100 text-sm\">User</span>\n                                    <div className=\"flex items-center gap-3\">\n                                        <span className=\"text-xs text-zinc-400\">\n                                            {new Date(comment.createdAt).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                                        </span>\n                                        <button\n                                            type=\"button\"\n                                            onClick={() => handleDeleteComment(comment.id)}\n                                            disabled={deletingCommentId === comment.id}\n                                            className=\"text-xs font-medium text-red-500 hover:text-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                                        >\n                                            {deletingCommentId === comment.id ? \"Deleting...\" : \"Delete\"}\n                                        </button>\n                                    </div>\n                                </div>\n\r\n                                {comment.text && (\r\n                                    <p className=\"text-zinc-600 dark:text-zinc-300 text-sm mb-2 break-words\">{comment.text}</p>\r\n                                )}\r\n\r\n                                {comment.image && (\r\n                                    <img\r\n                                        src={comment.image}\r\n                                        alt=\"Comment attachment\"\r\n                                        className=\"rounded-lg max-h-60 w-auto object-cover border border-zinc-100 dark:border-zinc-800\"\r\n                                    />\r\n                                )}\r\n                            </div>\r\n                            </motion.div>\n                        ))}\n                    </AnimatePresence>\n\n                    {comments.length === 0 && (\n                        <div className=\"text-center py-12 text-zinc-500 dark:text-zinc-400 text-sm bg-white/70 dark:bg-zinc-900/60 border border-dashed border-zinc-300 dark:border-zinc-700 rounded-2xl\">\n                            No comments yet for this page.\n                        </div>\n                    )}\n                </div>\n            </div>\n        </section>\n    );\n}\n","\"use client\";\r\n\r\nimport { motion } from \"framer-motion\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\n// ============================================================\r\n// SVG INGREDIENTS (V3 - Flat, Vibrant, Sticker-like)\r\n// ============================================================\r\n\r\nconst ShrimpIcon = ({ className }: { className?: string }) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" className={className}>\r\n        <path\r\n            d=\"M17 7C17 7 19 4 19 2M17 7C17 7 14 5 12 6C10 7 7 10 7 14C7 18 10 21 14 21C16 21 18 20 19 18C20 16 19 13 17 12C16 11.5 15 12 14 12\"\r\n            stroke=\"none\"\r\n            fill=\"#FB923C\" // Orange-400\r\n        />\r\n        <path\r\n            d=\"M14 21C11 21 7 22 5 22M14 21C13 21 12 21 11 20\"\r\n            stroke=\"none\"\r\n            fill=\"#F97316\" // Orange-500 (Shadow/Tail)\r\n        />\r\n        <path d=\"M7 14C7 12 8 9 10 8\" stroke=\"#FDBA74\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n    </svg>\r\n);\r\n\r\nconst AvocadoIcon = ({ className }: { className?: string }) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" className={className}>\r\n        <path\r\n            d=\"M12 2C8 2 5 6 5 12C5 17 8 22 12 22C16 22 19 17 19 12C19 6 16 2 12 2Z\"\r\n            fill=\"#4ADE80\" // Green-400\r\n        />\r\n        <circle cx=\"12\" cy=\"15\" r=\"3.5\" fill=\"#FACC15\" /> // Yellow pit\r\n        <path d=\"M12 2C15 2 19 6 19 12\" stroke=\"#22C55E\" strokeWidth=\"1\" strokeOpacity=\"0.5\" />\r\n    </svg>\r\n);\r\n\r\nconst CheeseIcon = ({ className }: { className?: string }) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" className={className}>\r\n        <path\r\n            d=\"M3 12L12 4L21 12V18C21 19.1 20.1 20 19 20H5C3.9 20 3 19.1 3 18V12Z\"\r\n            fill=\"#FACC15\" // Yellow-400\r\n        />\r\n        <circle cx=\"8\" cy=\"14\" r=\"1.5\" fill=\"#FEF08A\" />\r\n        <circle cx=\"15\" cy=\"16\" r=\"2\" fill=\"#FEF08A\" />\r\n        <circle cx=\"13\" cy=\"10\" r=\"1\" fill=\"#FEF08A\" />\r\n    </svg>\r\n);\r\n\r\nconst StrawberryIcon = ({ className }: { className?: string }) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" className={className}>\r\n        <path\r\n            d=\"M12 20C12 20 6 14 5 10C4 6 7 4 9 4C11 4 12 6 12 6C12 6 13 4 15 4C17 4 20 6 19 10C18 14 12 20 12 20Z\"\r\n            fill=\"#EF4444\" // Red-500\r\n        />\r\n        {/* Seeds */}\r\n        <circle cx=\"9\" cy=\"8\" r=\"0.5\" fill=\"#FECACA\" />\r\n        <circle cx=\"15\" cy=\"8\" r=\"0.5\" fill=\"#FECACA\" />\r\n        <circle cx=\"12\" cy=\"12\" r=\"0.5\" fill=\"#FECACA\" />\r\n        <circle cx=\"8\" cy=\"14\" r=\"0.5\" fill=\"#FECACA\" />\r\n        <circle cx=\"16\" cy=\"14\" r=\"0.5\" fill=\"#FECACA\" />\r\n        <circle cx=\"12\" cy=\"16\" r=\"0.5\" fill=\"#FECACA\" />\r\n        {/* Leaves */}\r\n        <path d=\"M9 4L12 2L15 4\" stroke=\"#22C55E\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n    </svg>\r\n);\r\n\r\nconst BlueberryIcon = ({ className }: { className?: string }) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" className={className}>\r\n        <circle cx=\"12\" cy=\"12\" r=\"8\" fill=\"#60A5FA\" /> // Blue-400\r\n        <circle cx=\"15\" cy=\"9\" r=\"2\" fill=\"#93C5FD\" /> // Highlight\r\n    </svg>\r\n);\r\n\r\nconst EggIcon = ({ className }: { className?: string }) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" className={className}>\r\n        <path\r\n            d=\"M12 3C8 3 5 7 5 13C5 17 8 20 12 20C16 20 19 17 19 13C19 7 16 3 12 3Z\"\r\n            fill=\"white\"\r\n        />\r\n        <circle cx=\"12\" cy=\"13\" r=\"3\" fill=\"#FACC15\" />\r\n    </svg>\r\n);\r\n\r\nconst INGREDIENTS = [\r\n    { id: 1, Icon: ShrimpIcon, weight: \"medium\" },\r\n    { id: 2, Icon: AvocadoIcon, weight: \"heavy\" },\r\n    { id: 3, Icon: CheeseIcon, weight: \"medium\" },\r\n    { id: 4, Icon: StrawberryIcon, weight: \"heavy\" },\r\n    { id: 5, Icon: BlueberryIcon, weight: \"light\" },\r\n    { id: 6, Icon: EggIcon, weight: \"medium\" },\r\n];\r\n\r\n// ============================================================\r\n// MAIN COMPONENT\r\n// ============================================================\r\n\r\nexport default function CelebarytoryV3() {\r\n    const [stage, setStage] = useState<\"idle\" | \"burst\">(\"idle\");\r\n\r\n    useEffect(() => {\r\n        // Start animation on mount\r\n        const t1 = setTimeout(() => setStage(\"burst\"), 500);\r\n        return () => clearTimeout(t1);\r\n    }, []);\r\n\r\n    // Generate 50 confetti pieces with varied properties\r\n    const confetti = Array.from({ length: 50 }).map((_, i) => {\r\n        const type = INGREDIENTS[i % INGREDIENTS.length];\r\n\r\n        // Random physics based on \"weight\"\r\n        const spreadX = (Math.random() - 0.5) * 350;\r\n        const spreadY = (Math.random() - 1) * 500 - 150; // Upwards burst\r\n\r\n        return {\r\n            id: i,\r\n            Component: type.Icon,\r\n            weight: type.weight,\r\n            dx: spreadX,\r\n            dy: spreadY,\r\n            rot: Math.random() * 720 - 360,\r\n            scale: 0.6 + Math.random() * 0.8,\r\n            delay: Math.random() * 0.15, // Tight burst\r\n        };\r\n    });\r\n\r\n    return (\r\n        <div className=\"flex flex-col items-center gap-4\">\r\n            {/* Phone Mockup */}\r\n            <div\r\n                className=\"relative overflow-hidden rounded-[3rem] border-[6px] border-zinc-900 bg-[#09090b] shadow-2xl\"\r\n                style={{ width: 300, height: 620 }}\r\n            >\r\n                {/* Dynamic Island */}\r\n                <div className=\"absolute top-2 left-1/2 z-50 h-[26px] w-[100px] -translate-x-1/2 rounded-full bg-black border border-white/5\" />\r\n\r\n                {/* Status Bar */}\r\n                <div className=\"absolute top-2 left-0 right-0 z-40 flex items-center justify-between px-8 pt-1 opacity-60\">\r\n                    <span className=\"text-[10px] font-semibold text-white\">9:41</span>\r\n                    <div className=\"flex items-center gap-1\">\r\n                        <div className=\"w-4 h-2.5 rounded-[1px] border border-white\" />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* --- MAIN ANIMATION AREA --- */}\r\n                <div className=\"absolute inset-0 flex flex-col items-center justify-center p-6 text-white overflow-hidden\">\r\n\r\n                    {/* Confetti Layer */}\r\n                    <div className=\"absolute inset-0 z-10 pointer-events-none\">\r\n                        {confetti.map((c) => (\r\n                            <motion.div\r\n                                key={c.id}\r\n                                className=\"absolute left-1/2 top-1/2 w-8 h-8 -ml-4 -mt-4\"\r\n                                initial={{ x: 0, y: 0, scale: 0, opacity: 1, rotate: 0 }}\r\n                                animate={stage === \"burst\" ? {\r\n                                    x: c.dx,\r\n                                    y: [0, c.dy, 800], // Start -> Up -> Fall off screen\r\n                                    rotate: c.rot,\r\n                                    scale: c.scale,\r\n                                    opacity: [1, 1, 1, 0] // Fade out at very end\r\n                                } : {}}\r\n                                transition={{\r\n                                    // Custom mixing of easing for organic feel\r\n                                    duration: c.weight === \"light\" ? 5 : c.weight === \"heavy\" ? 3 : 4,\r\n                                    times: [0, 0.15, 1], // Fast burst, slow fall\r\n                                    ease: [0.2, 0.8, 0.2, 1],\r\n                                    delay: c.delay\r\n                                }}\r\n                            >\r\n                                <c.Component className=\"w-full h-full drop-shadow-md\" />\r\n                            </motion.div>\r\n                        ))}\r\n                    </div>\r\n\r\n                    {/* Central Character */}\r\n                    <motion.div\r\n                        className=\"relative z-20 mb-8\"\r\n                        initial={{ scale: 0, rotate: -180 }}\r\n                        animate={stage === \"burst\" ? {\r\n                            scale: [0, 1.2, 1],\r\n                            rotate: [0, 10, -10, 0]\r\n                        } : {}}\r\n                        transition={{\r\n                            scale: { duration: 0.5, ease: \"easeOut\", delay: 0.1 }, // FIXED: easeOut used primarily\r\n                            rotate: { duration: 0.5, delay: 0.3 }\r\n                        }}\r\n                    >\r\n                        {/* New Mascot V3 - \"Chef Hat\" */}\r\n                        <svg width=\"100\" height=\"100\" viewBox=\"0 0 100 100\" fill=\"none\">\r\n                            {/* Hat */}\r\n                            <path\r\n                                d=\"M20 60 C 20 40, 30 10, 50 10 C 70 10, 80 40, 80 60 L 80 75 L 20 75 Z\"\r\n                                fill=\"white\"\r\n                            />\r\n                            <rect x=\"20\" y=\"75\" width=\"60\" height=\"10\" rx=\"2\" fill=\"#E4E4E7\" />\r\n\r\n                            {/* Face */}\r\n                            <circle cx=\"40\" cy=\"50\" r=\"4\" fill=\"#18181B\" />\r\n                            <circle cx=\"60\" cy=\"50\" r=\"4\" fill=\"#18181B\" />\r\n                            <path d=\"M45 58 Q 50 62, 55 58\" stroke=\"#18181B\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n\r\n                            {/* Decoration */}\r\n                            <path d=\"M30 30 Q 50 15, 70 30\" stroke=\"#E4E4E7\" strokeWidth=\"2\" fill=\"none\" />\r\n                        </svg>\r\n                    </motion.div>\r\n\r\n                    {/* Text Content */}\r\n                    <motion.div\r\n                        className=\"text-center z-30\"\r\n                        initial={{ opacity: 0, y: 20 }}\r\n                        animate={stage === \"burst\" ? { opacity: 1, y: 0 } : {}}\r\n                        transition={{ delay: 0.4, duration: 0.6 }}\r\n                    >\r\n                        <h2 className=\"text-3xl font-extrabold mb-2 bg-gradient-to-r from-orange-400 to-red-500 bg-clip-text text-transparent\">\r\n                            Yummmm!\r\n                        </h2>\r\n                        <p className=\"text-sm text-zinc-400\">Meal prepped & ready.</p>\r\n                    </motion.div>\r\n\r\n                    {/* Button */}\r\n                    <motion.button\r\n                        className=\"mt-10 w-full max-w-[220px] bg-white text-black font-bold py-3.5 rounded-2xl shadow-xl active:scale-95 transition-transform z-30\"\r\n                        initial={{ opacity: 0, y: 40 }}\r\n                        animate={stage === \"burst\" ? { opacity: 1, y: 0 } : {}}\r\n                        transition={{ type: \"spring\", delay: 0.6 }}\r\n                        onClick={() => {\r\n                            setStage(\"idle\");\r\n                            setTimeout(() => setStage(\"burst\"), 100);\r\n                        }}\r\n                    >\r\n                        View Recipe\r\n                    </motion.button>\r\n\r\n                </div>\r\n\r\n                {/* Home Indicator */}\r\n                <div className=\"absolute bottom-2 left-1/2 h-[4px] w-[100px] -translate-x-1/2 rounded-full bg-white/10 z-40\" />\r\n            </div>\r\n\r\n            <p className=\"text-xs text-zinc-500\">Tap button to replay</p>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OASe,SAAS,EAAY,MAAE,CAAI,CAAoB,EAC1D,GAAM,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAY,EAAE,EAChD,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC3B,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAC5D,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrC,CAAC,EAAmB,EAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MACpE,EAAe,CAAA,EAAA,EAAA,MAAA,AAAM,EAAmB,MAG9C,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACD,GACL,GADW,GACL,CAAC,mBAAmB,EAAE,EAAA,CAAM,EAC7B,IAAI,CAAC,GAAO,EAAI,IAAI,IACpB,IAAI,CAAC,IACE,MAAM,OAAO,CAAC,IAAO,EAAY,EACzC,GACC,KAAK,CAAC,GAAO,QAAQ,KAAK,CAAC,0BAA2B,GAC/D,EAAG,CAAC,EAAK,EAaT,IAAM,EAAe,MAAO,IAExB,GADA,EAAE,cAAc,GACZ,AAAC,EAAK,IAAI,IAAO,EAAD,CAEpB,GAAa,GAEb,GAAI,CACA,EALgC,EAK1B,EAAM,MAAM,MAAM,gBAAiB,CACrC,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,MACjB,EACA,MAAO,OACP,CACJ,EACJ,GAEA,GAAI,EAAI,EAAE,CAAE,CACR,IAAM,EAAa,MAAM,EAAI,IAAI,GACjC,EAAY,CAAC,KAAe,EAAS,EACrC,EAAQ,IACR,EAAiB,KACrB,CACJ,CAAE,MAAO,EAAO,CACZ,QAAQ,KAAK,CAAC,yBAA0B,EAC5C,QAAU,CACN,GAAa,EACjB,EACJ,EAEM,EAAsB,MAAO,IAC/B,EAAqB,GAErB,GAAI,CAKI,CAJQ,MAAM,MAAM,CAAC,iBAAiB,EAAE,mBAAmB,GAAW,MAAM,EAAE,mBAAmB,GAAA,CAAO,CAAE,CAC1G,OAAQ,QACZ,EAAA,EAEQ,EAAE,EAAE,AACR,EAAY,AAAC,GAAS,EAAK,MAAM,CAAC,AAAC,GAAY,EAAQ,EAAE,GAAK,GAEtE,CAAE,MAAO,EAAO,CACZ,QAAQ,KAAK,CAAC,2BAA4B,EAC9C,QAAU,CACN,EAAqB,KACzB,CACJ,EAEA,MACI,CAAA,EAAA,EAAA,GAAA,EAAC,UAAA,CAAQ,UAAU,8CACf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yJACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oEAA2D,eAGzE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,0HAA0H,EAAE,EAAY,iCAAmC,GAAA,CAAI,UAC5L,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAc,UAAU,gCACpC,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACG,MAAO,EACP,SAAU,AAAC,GAAM,EAAQ,EAAE,MAAM,CAAC,KAAK,EACvC,YAAY,qBACZ,UAAU,wOAGb,GACG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACG,IAAK,EACL,IAAI,UACJ,UAAU,oFAEd,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,KAAK,SACL,QAAS,IAAM,EAAiB,MAChC,UAAU,0HAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,MAAM,KAAK,OAAO,KAAK,QAAQ,YAAY,KAAK,OAAO,OAAO,eAAe,YAAY,cAC1F,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,GAAG,KAAK,GAAG,IAAI,GAAG,IAAI,GAAG,OAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,GAAG,IAAI,GAAG,IAAI,GAAG,KAAK,GAAG,eAM/C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iGACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACX,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,KAAK,SACL,QAAS,IAAM,EAAa,OAAO,EAAE,QACrC,UAAU,yIACV,MAAM,qBAEN,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,MAAM,KAAK,OAAO,KAAK,QAAQ,YAAY,KAAK,OAAO,OAAO,eAAe,YAAY,IAAI,cAAc,QAAQ,eAAe,kBACnI,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,EAAE,IAAI,EAAE,IAAI,MAAM,KAAK,OAAO,KAAK,GAAG,IAAI,GAAG,MACnD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,GAAG,MAAM,GAAG,MAAM,EAAE,QAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CAAS,OAAO,0BAGzB,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,KAAK,OACL,IAAK,EACL,SA/GL,AAAD,CA+GgB,GA9GtC,IAAM,EAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,CAChC,GAAI,EAAM,CACN,IAAM,EAAS,IAAI,WACnB,EAAO,SAAS,CAAG,KACf,EAAiB,EAAO,MAAM,CAClC,EACA,EAAO,aAAa,CAAC,EACzB,CACJ,EAuGgC,OAAO,UACP,UAAU,cAIlB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,KAAK,SACL,SAAU,CAAC,EAAK,IAAI,IAAM,CAAC,EAC3B,UAAU,2NAET,EAAY,aAAe,yBAO5C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,CAAC,QAAS,GAAO,KAAK,qBACjC,EAAS,GAAG,CAAC,AAAC,GACX,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CAEP,QAAS,CAAE,QAAS,EAAG,EAAG,GAAI,MAAO,GAAK,EAC1C,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,MAAO,CAAE,EACtC,KAAM,CAAE,QAAS,EAAG,MAAO,EAAI,EAC/B,MAAM,CAAA,CAAA,EACN,UAAU,yHAEd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yBACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gJAAuI,QAK1J,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACX,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,kEAAyD,SACzE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACX,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iCACX,IAAI,KAAK,EAAQ,SAAS,EAAE,kBAAkB,CAAC,EAAE,CAAE,CAAE,KAAM,UAAW,OAAQ,SAAU,KAE7F,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,KAAK,SACL,QAAS,IAAM,EAAoB,EAAQ,EAAE,EAC7C,SAAU,IAAsB,EAAQ,EAAE,CAC1C,UAAU,iIAET,IAAsB,EAAQ,EAAE,CAAG,cAAgB,iBAK/D,EAAQ,IAAI,EACT,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qEAA6D,EAAQ,IAAI,GAGzF,EAAQ,KAAK,EACV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACG,IAAK,EAAQ,KAAK,CAClB,IAAI,qBACJ,UAAU,6FAvCb,EAAQ,EAAE,KA+CN,IAApB,EAAS,MAAM,EACZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4KAAmK,0CAQ1M,iEC1NA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAgFA,IAAM,EAAc,CAChB,CAAE,GAAI,EAAG,KA3EM,CA2EA,AA3EC,WAAE,CAAS,CAA0B,GACrD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,QAAQ,YAAY,KAAK,OAAO,UAAW,YAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACG,EAAE,mIACF,OAAO,OACP,KAAK,YAET,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACG,EAAE,iDACF,OAAO,OACP,KAAK,YAET,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,EAAE,sBAAsB,OAAO,UAAU,YAAY,IAAI,cAAc,aA+DtD,OAAQ,QAAS,EAC5C,CAAE,GAAI,EAAG,KA5DO,CAAC,AA4DF,WA5DI,CAAS,CAA0B,GACtD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,QAAQ,YAAY,KAAK,OAAO,UAAW,YAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACG,EAAE,uEACF,KAAK,YAET,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,GAAG,KAAK,GAAG,KAAK,EAAE,MAAM,KAAK,YAAY,iBACjD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,EAAE,wBAAwB,OAAO,UAAU,YAAY,IAAI,cAAc,WAqDvD,OAAQ,OAAQ,EAC5C,CAAE,GAAI,EAAG,KAlDM,CAkDA,AAlDC,CAAE,WAAS,CAA0B,GACrD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,QAAQ,YAAY,KAAK,OAAO,UAAW,YAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACG,EAAE,qEACF,KAAK,YAET,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,GAAG,IAAI,GAAG,KAAK,EAAE,MAAM,KAAK,YACpC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,GAAG,KAAK,GAAG,KAAK,EAAE,IAAI,KAAK,YACnC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,GAAG,KAAK,GAAG,KAAK,EAAE,IAAI,KAAK,eA0CZ,OAAQ,QAAS,EAC5C,CAAE,GAAI,EAAG,KAvCU,CAAC,AAuCL,WAvCO,CAAS,CAA0B,GACzD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,QAAQ,YAAY,KAAK,OAAO,UAAW,YAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACG,EAAE,sGACF,KAAK,YAGT,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,GAAG,IAAI,GAAG,IAAI,EAAE,MAAM,KAAK,YACnC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,GAAG,KAAK,GAAG,IAAI,EAAE,MAAM,KAAK,YACpC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,GAAG,KAAK,GAAG,KAAK,EAAE,MAAM,KAAK,YACrC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,GAAG,IAAI,GAAG,KAAK,EAAE,MAAM,KAAK,YACpC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,GAAG,KAAK,GAAG,KAAK,EAAE,MAAM,KAAK,YACrC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,GAAG,KAAK,GAAG,KAAK,EAAE,MAAM,KAAK,YAErC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,EAAE,iBAAiB,OAAO,UAAU,YAAY,IAAI,cAAc,aAyB7C,OAAQ,OAAQ,EAC/C,CAAE,GAAI,EAAG,KAtBS,CAsBH,AAtBI,WAAE,CAAS,CAA0B,GACxD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,QAAQ,YAAY,KAAK,OAAO,UAAW,YAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,GAAG,KAAK,GAAG,KAAK,EAAE,IAAI,KAAK,YAAY,eAC/C,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,GAAG,KAAK,GAAG,IAAI,EAAE,IAAI,KAAK,YAAY,mBAmBpB,OAAQ,OAAQ,EAC9C,CAAE,GAAI,EAAG,KAhBG,CAAC,AAgBE,WAhBA,CAAS,CAA0B,GAClD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,QAAQ,YAAY,KAAK,OAAO,UAAW,YAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACG,EAAE,uEACF,KAAK,UAET,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,GAAG,KAAK,GAAG,KAAK,EAAE,IAAI,KAAK,eAUf,OAAQ,QAAS,EAC5C,CAMc,SAAS,IACpB,GAAM,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAmB,QAErD,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAEN,IAAM,EAAK,WAAW,IAAM,EAAS,SAAU,KAC/C,MAAO,IAAM,aAAa,EAC9B,EAAG,EAAE,EAGL,IAAM,EAAW,MAAM,IAAI,CAAC,CAAE,OAAQ,EAAG,GAAG,GAAG,CAAC,CAAC,EAAG,KAChD,IAAM,EAAO,CAAW,CAAC,EAAI,EAAY,MAAM,CAAC,CAG1C,EAAU,CAAC,KAAK,MAAM,GAAK,EAAA,CAAG,CAAI,IAClC,EAAU,AAAC,MAAK,MAAM,IAAK,CAAC,CAAI,IAAM,IAE5C,CAFiD,KAE1C,CACH,GAAI,EACJ,KAJ6D,KAIlD,EAAK,IAAI,CACpB,OAAQ,EAAK,MAAM,CACnB,GAAI,EACJ,GAAI,EACJ,IAAqB,IAAhB,KAAK,MAAM,GAAW,IAC3B,MAAO,GAAM,AAAgB,QAAX,MAAM,GACxB,MAAuB,IAAhB,KAAK,MAAM,EACtB,CACJ,GAEA,MACI,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CAEX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACG,UAAU,+FACV,MAAO,CAAE,MAAO,IAAK,OAAQ,GAAI,YAGjC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iHAGf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sGACX,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gDAAuC,SACvD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mCACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qDAKvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sGAGX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qDACV,EAAS,GAAG,CAAC,AAAC,GACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CAEP,UAAU,gDACV,QAAS,CAAE,EAAG,EAAG,EAAG,EAAG,MAAO,EAAG,QAAS,EAAG,OAAQ,CAAE,EACvD,QAAmB,UAAV,EAAoB,CACzB,EAAG,EAAE,EAAE,CACP,EAAG,CAAC,EAAG,EAAE,EAAE,CAAE,IAAI,CACjB,OAAQ,EAAE,GAAG,CACb,MAAO,EAAE,KAAK,CACd,QAAS,CAAC,EAAG,EAAG,EAAG,EAAE,AACzB,CAD0B,CACtB,CAAC,EACL,WAAY,CAER,OAJ6C,EAItB,UAAb,EAAE,MAAM,CAAe,EAAiB,UAAb,EAAE,MAAM,CAAe,EAAI,EAChE,MAAO,CAAC,EAAG,IAAM,EAAE,CACnB,KAAM,CAAC,GAAK,GAAK,GAAK,EAAE,CACxB,MAAO,EAAE,KAAK,AAClB,WAEA,CAAA,EAAA,EAAA,GAAA,EAAC,EAAE,SAAS,CAAA,CAAC,UAAU,kCAlBlB,EAAE,EAAE,KAwBrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACP,UAAU,qBACV,QAAS,CAAE,MAAO,EAAG,OAAQ,CAAC,GAAI,EAClC,QAAS,AAAU,YAAU,CACzB,MAAO,CAAC,EAAG,IAAK,EAAE,CAClB,OAAQ,CAAC,EAAG,GAAI,CAAC,GAAI,EAAE,AAC3B,EAAI,CAAC,EACL,WAAY,CACR,MAAO,CAAE,SAAU,GAAK,KAAM,UAAW,MAAO,EAAI,EACpD,OAAQ,CAAE,SAAU,GAAK,MAAO,EAAI,CACxC,WAGA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,MAAM,MAAM,OAAO,MAAM,QAAQ,cAAc,KAAK,iBAErD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACG,EAAE,uEACF,KAAK,UAET,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,EAAE,KAAK,EAAE,KAAK,MAAM,KAAK,OAAO,KAAK,GAAG,IAAI,KAAK,YAGvD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,GAAG,KAAK,GAAG,KAAK,EAAE,IAAI,KAAK,YACnC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,GAAG,KAAK,GAAG,KAAK,EAAE,IAAI,KAAK,YACnC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,EAAE,wBAAwB,OAAO,UAAU,YAAY,IAAI,cAAc,UAG/E,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,EAAE,wBAAwB,OAAO,UAAU,YAAY,IAAI,KAAK,cAK9E,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACP,UAAU,mBACV,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,EAC7B,QAAmB,UAAV,EAAoB,CAAE,QAAS,EAAG,EAAG,CAAE,EAAI,CAAC,EACrD,WAAY,CAAE,MAAO,GAAK,SAAU,EAAI,YAExC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kHAAyG,YAGvH,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,6BAIzC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,MAAM,CAAA,CACV,UAAU,kIACV,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,EAC7B,QAAmB,UAAV,EAAoB,CAAE,QAAS,EAAG,EAAG,CAAE,EAAI,CAAC,EACrD,WAAY,CAAE,KAAM,SAAU,MAAO,EAAI,EACzC,QAAS,KACL,EAAS,QACT,WAAW,IAAM,EAAS,SAAU,IACxC,WACH,mBAOL,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mGAGnB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,2BAGjD"}