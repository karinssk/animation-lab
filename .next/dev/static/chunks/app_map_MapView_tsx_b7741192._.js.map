{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/garin/OneDrive/Desktop/Projects/animation/app/map/MapView.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport { MapContainer, TileLayer, Marker, useMap } from \"react-leaflet\";\r\nimport L from \"leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\n\r\nexport interface Place {\r\n  id: string;\r\n  rating: string;\r\n  latlng: [number, number];\r\n}\r\n\r\ninterface Props {\r\n  places: Place[];\r\n  activeId: string;\r\n  isSearching: boolean;\r\n  matchedIds: Set<string>;\r\n  onSelect: (id: string) => void;\r\n  onMapReady: (map: L.Map) => void;\r\n}\r\n\r\nfunction MapController({ onMapReady }: { onMapReady: (m: L.Map) => void }) {\r\n  const map = useMap();\r\n  useEffect(() => {\r\n    onMapReady(map);\r\n  }, [map, onMapReady]);\r\n  return null;\r\n}\r\n\r\nfunction markerIcon(rating: string, active: boolean, matched: boolean, dimmed: boolean) {\r\n  const cls = [\r\n    \"lf-pin\",\r\n    active  ? \"lf-pin--active\"  : \"\",\r\n    matched ? \"lf-pin--matched\" : \"\",\r\n    dimmed  ? \"lf-pin--dim\"     : \"\",\r\n  ].filter(Boolean).join(\" \");\r\n\r\n  return L.divIcon({\r\n    html: `<div class=\"${cls}\">${rating}</div>`,\r\n    className: \"\",\r\n    iconSize: [40, 40],\r\n    iconAnchor: [20, 20],\r\n  });\r\n}\r\n\r\nexport default function MapView({\r\n  places,\r\n  activeId,\r\n  isSearching,\r\n  matchedIds,\r\n  onSelect,\r\n  onMapReady,\r\n}: Props) {\r\n  return (\r\n    <MapContainer\r\n      center={[13.7755, 100.549]}\r\n      zoom={15}\r\n      zoomControl={false}\r\n      attributionControl={false}\r\n      style={{ width: \"100%\", height: \"100%\" }}\r\n    >\r\n      <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\r\n      <MapController onMapReady={onMapReady} />\r\n      {places.map((place) => (\r\n        <Marker\r\n          key={place.id}\r\n          position={place.latlng}\r\n          icon={markerIcon(\r\n            place.rating,\r\n            place.id === activeId,\r\n            isSearching && matchedIds.has(place.id),\r\n            isSearching && !matchedIds.has(place.id),\r\n          )}\r\n          eventHandlers={{ click: () => onSelect(place.id) }}\r\n        />\r\n      ))}\r\n    </MapContainer>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AACA;;;AAJA;;;;;AAsBA,SAAS,cAAc,EAAE,UAAU,EAAsC;;IACvE,MAAM,MAAM,IAAA,6JAAM;IAClB,IAAA,0KAAS;mCAAC;YACR,WAAW;QACb;kCAAG;QAAC;QAAK;KAAW;IACpB,OAAO;AACT;GANS;;QACK,6JAAM;;;KADX;AAQT,SAAS,WAAW,MAAc,EAAE,MAAe,EAAE,OAAgB,EAAE,MAAe;IACpF,MAAM,MAAM;QACV;QACA,SAAU,mBAAoB;QAC9B,UAAU,oBAAoB;QAC9B,SAAU,gBAAoB;KAC/B,CAAC,MAAM,CAAC,SAAS,IAAI,CAAC;IAEvB,OAAO,+JAAC,CAAC,OAAO,CAAC;QACf,MAAM,CAAC,YAAY,EAAE,IAAI,EAAE,EAAE,OAAO,MAAM,CAAC;QAC3C,WAAW;QACX,UAAU;YAAC;YAAI;SAAG;QAClB,YAAY;YAAC;YAAI;SAAG;IACtB;AACF;AAEe,SAAS,QAAQ,EAC9B,MAAM,EACN,QAAQ,EACR,WAAW,EACX,UAAU,EACV,QAAQ,EACR,UAAU,EACJ;IACN,qBACE,6LAAC,0KAAY;QACX,QAAQ;YAAC;YAAS;SAAQ;QAC1B,MAAM;QACN,aAAa;QACb,oBAAoB;QACpB,OAAO;YAAE,OAAO;YAAQ,QAAQ;QAAO;;0BAEvC,6LAAC,oKAAS;gBAAC,KAAI;;;;;;0BACf,6LAAC;gBAAc,YAAY;;;;;;YAC1B,OAAO,GAAG,CAAC,CAAC,sBACX,6LAAC,8JAAM;oBAEL,UAAU,MAAM,MAAM;oBACtB,MAAM,WACJ,MAAM,MAAM,EACZ,MAAM,EAAE,KAAK,UACb,eAAe,WAAW,GAAG,CAAC,MAAM,EAAE,GACtC,eAAe,CAAC,WAAW,GAAG,CAAC,MAAM,EAAE;oBAEzC,eAAe;wBAAE,OAAO,IAAM,SAAS,MAAM,EAAE;oBAAE;mBAR5C,MAAM,EAAE;;;;;;;;;;;AAavB;MAjCwB"}}]
}