{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/garin/OneDrive/Desktop/Projects/animation/app/components/Celebarytory.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\n// ============================================================\r\n// SVG INGREDIENTS\r\n// ============================================================\r\n\r\nconst ChiliIcon = ({ className }: { className?: string }) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" className={className}>\r\n        <path\r\n            d=\"M6.5 19.5C4 17 3 13 4.5 9.5C6 6 10 3 15 2C16 4 19 6 20.5 9.5C22 13 20 17 18.5 19.5C17 22 13 23 9.5 22.5\"\r\n            fill=\"#EF4444\"\r\n            stroke=\"#B91C1C\"\r\n            strokeWidth=\"1.5\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n        />\r\n        <path d=\"M15 2C15 2 13.5 6 11 7\" stroke=\"#B91C1C\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\r\n    </svg>\r\n);\r\n\r\nconst LemonIcon = ({ className }: { className?: string }) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" className={className}>\r\n        <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"#FACC15\" stroke=\"#EAB308\" strokeWidth=\"1.5\" />\r\n        <path\r\n            d=\"M12 12L12 2M12 12L20.66 7M12 12L20.66 17M12 12L3.34 17M12 12L3.34 7\"\r\n            stroke=\"#FEF08A\"\r\n            strokeWidth=\"1.5\"\r\n        />\r\n        <circle cx=\"12\" cy=\"12\" r=\"2\" fill=\"#FEF08A\" />\r\n    </svg>\r\n);\r\n\r\nconst TomatoIcon = ({ className }: { className?: string }) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" className={className}>\r\n        <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"#EF4444\" stroke=\"#B91C1C\" strokeWidth=\"1.5\" />\r\n        <path\r\n            d=\"M12 6C12 6 14 8 16 7M12 6C12 6 10 8 8 7\"\r\n            stroke=\"#10B981\"\r\n            strokeWidth=\"2\"\r\n            strokeLinecap=\"round\"\r\n        />\r\n        <path d=\"M12 3V6\" stroke=\"#10B981\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n    </svg>\r\n);\r\n\r\nconst MushroomIcon = ({ className }: { className?: string }) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" className={className}>\r\n        <path\r\n            d=\"M12 11V21M6 11C6 6 8.5 3 12 3C15.5 3 18 6 18 11H6Z\"\r\n            fill=\"#F5F5F4\"\r\n            stroke=\"#D6D3D1\"\r\n            strokeWidth=\"1.5\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n        />\r\n        <ellipse cx=\"12\" cy=\"11\" rx=\"6\" ry=\"1.5\" fill=\"#E7E5E4\" />\r\n    </svg>\r\n);\r\n\r\nconst HerbIcon = ({ className }: { className?: string }) => (\r\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" className={className}>\r\n        <path\r\n            d=\"M12 20C12 20 12 10 16 6M12 20C12 20 12 12 8 8M12 20V12\"\r\n            stroke=\"#22C55E\"\r\n            strokeWidth=\"2\"\r\n            strokeLinecap=\"round\"\r\n        />\r\n        <path\r\n            d=\"M16 6C18 4 20 6 18 8C16 10 16 6 16 6Z\"\r\n            fill=\"#4ADE80\"\r\n            stroke=\"#22C55E\"\r\n        />\r\n        <path\r\n            d=\"M8 8C6 6 4 8 6 10C8 12 8 8 8 8Z\"\r\n            fill=\"#4ADE80\"\r\n            stroke=\"#22C55E\"\r\n        />\r\n    </svg>\r\n);\r\n\r\nconst INGREDIENTS = [\r\n    { id: 1, Icon: ChiliIcon },\r\n    { id: 2, Icon: LemonIcon },\r\n    { id: 3, Icon: TomatoIcon },\r\n    { id: 4, Icon: MushroomIcon },\r\n    { id: 5, Icon: HerbIcon },\r\n];\r\n\r\n// ============================================================\r\n// MAIN COMPONENT\r\n// ============================================================\r\n\r\nexport default function Celebarytory() {\r\n    const [stage, setStage] = useState<1 | 2 | 3 | 4 | 5>(1);\r\n\r\n    useEffect(() => {\r\n        // Sequence timing\r\n        // Frame 1: Initial (0s)\r\n        // Frame 2: Anticipation (0.8s)\r\n        const t1 = setTimeout(() => setStage(2), 800);\r\n        // Frame 3: Burst (1.6s)\r\n        const t2 = setTimeout(() => setStage(3), 1600);\r\n        // Frame 4: Gravity (1.7s - immediate follow through)\r\n        const t3 = setTimeout(() => setStage(4), 1700);\r\n        // Frame 5: Settle (3.5s)\r\n        const t4 = setTimeout(() => setStage(5), 3500);\r\n\r\n        return () => {\r\n            clearTimeout(t1);\r\n            clearTimeout(t2);\r\n            clearTimeout(t3);\r\n            clearTimeout(t4);\r\n        };\r\n    }, []);\r\n\r\n    // Generate confetti pieces\r\n    const confetti = Array.from({ length: 40 }).map((_, i) => {\r\n        const Ingredient = INGREDIENTS[i % INGREDIENTS.length].Icon;\r\n        const dx = (Math.random() - 0.5) * 300; // Burst x spread\r\n        const dy = (Math.random() - 1) * 400 - 100; // Burst y spread (upwards)\r\n        const rot = Math.random() * 360;\r\n        const scale = 0.5 + Math.random() * 0.8;\r\n        return {\r\n            id: i,\r\n            Component: Ingredient,\r\n            dx,\r\n            dy,\r\n            rot,\r\n            scale,\r\n            delay: Math.random() * 0.2, // Staggered burst\r\n        };\r\n    });\r\n\r\n    return (\r\n        <div className=\"flex flex-col items-center gap-4\">\r\n            {/* Phone Mockup */}\r\n            <div\r\n                className=\"relative overflow-hidden rounded-[3rem] border-[6px] border-zinc-900 bg-zinc-950 shadow-2xl\"\r\n                style={{ width: 300, height: 620 }}\r\n            >\r\n                {/* Dynamic Island */}\r\n                <div className=\"absolute top-2 left-1/2 z-50 h-[26px] w-[100px] -translate-x-1/2 rounded-full bg-black border border-white/10\" />\r\n\r\n                {/* Status Bar */}\r\n                <div className=\"absolute top-2 left-0 right-0 z-40 flex items-center justify-between px-8 pt-1 opacity-60\">\r\n                    <span className=\"text-[10px] font-semibold text-white\">9:41</span>\r\n                    <div className=\"flex items-center gap-1\">\r\n                        <div className=\"w-4 h-2.5 rounded-[1px] border border-white\" />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* --- MAIN ANIMATION AREA --- */}\r\n                <div className=\"absolute inset-0 flex flex-col items-center justify-center p-6 text-white\">\r\n\r\n                    {/* 1. Central Character / Ghost */}\r\n                    <div className=\"relative z-20 mb-10\">\r\n                        {/* Ambient Particles (Frame 1) */}\r\n                        {stage === 1 && (\r\n                            <motion.div className=\"absolute inset-0 pointer-events-none\">\r\n                                {[...Array(5)].map((_, i) => (\r\n                                    <motion.div\r\n                                        key={i}\r\n                                        className=\"absolute w-1 h-1 bg-white/20 rounded-full\"\r\n                                        style={{ top: \"50%\", left: \"50%\" }}\r\n                                        animate={{\r\n                                            x: (Math.random() - 0.5) * 60,\r\n                                            y: (Math.random() - 0.5) * 60,\r\n                                            opacity: [0, 1, 0]\r\n                                        }}\r\n                                        transition={{\r\n                                            duration: 2,\r\n                                            repeat: Infinity,\r\n                                            delay: i * 0.3\r\n                                        }}\r\n                                    />\r\n                                ))}\r\n                            </motion.div>\r\n                        )}\r\n\r\n                        {/* Character */}\r\n                        <motion.div\r\n                            animate={\r\n                                stage === 2 ? { scale: 0.8, rotate: -5 } : // Anticipation squeeze\r\n                                    stage >= 3 ? { scale: [1.2, 1], rotate: [0, 5, -5, 0] } : // Burst & Settle\r\n                                        { y: [0, -5, 0] } // Idle float\r\n                            }\r\n                            transition={\r\n                                stage === 2 ? { duration: 0.6, ease: [0.34, 1.56, 0.64, 1] } : // Anticipation with overshoot\r\n                                    stage >= 3 ? { duration: 0.8, ease: [0.25, 0.1, 0.25, 1] } : // Burst smooth\r\n                                        { duration: 3, repeat: Infinity, ease: \"easeInOut\" } // Idle float slower\r\n                            }\r\n                        >\r\n                            <svg width=\"80\" height=\"80\" viewBox=\"0 0 100 100\" fill=\"none\">\r\n                                {/* Cute Ghost Body */}\r\n                                <path d=\"M15 50C15 25 30 10 50 10C70 10 85 25 85 50V90L70 80L50 90L30 80L15 90V50Z\" fill=\"white\" />\r\n                                {/* Face */}\r\n                                <circle cx=\"35\" cy=\"45\" r=\"4\" fill=\"#18181B\" />\r\n                                <circle cx=\"65\" cy=\"45\" r=\"4\" fill=\"#18181B\" />\r\n                                <path d=\"M45 55Q50 60 55 55\" stroke=\"#18181B\" strokeWidth=\"3\" strokeLinecap=\"round\" />\r\n                                {/* Blush */}\r\n                                <circle cx=\"30\" cy=\"55\" r=\"3\" fill=\"#FECDD3\" opacity=\"0.6\" />\r\n                                <circle cx=\"70\" cy=\"55\" r=\"3\" fill=\"#FECDD3\" opacity=\"0.6\" />\r\n                            </svg>\r\n                        </motion.div>\r\n\r\n                        {/* Ingredient Confetti Burst */}\r\n                        {stage >= 2 && (\r\n                            <div className=\"absolute left-1/2 top-1/2 w-0 h-0 z-10\">\r\n                                {confetti.map((c) => (\r\n                                    <motion.div\r\n                                        key={c.id}\r\n                                        className=\"absolute\"\r\n                                        initial={{ x: 0, y: 0, scale: 0, opacity: 1 }}\r\n                                        animate={\r\n                                            stage === 2 ? {\r\n                                                // Frame 2: Peek (appear close to center)\r\n                                                x: c.dx * 0.1,\r\n                                                y: c.dy * 0.1,\r\n                                                scale: c.scale * 0.5,\r\n                                                opacity: 1\r\n                                            } :\r\n                                                stage >= 3 ? {\r\n                                                    // Frame 3 & 4: Burst & Fall\r\n                                                    x: c.dx, // Explode out\r\n                                                    y: [c.dy * 0.1, c.dy, 400], // Start -> Burst Up -> Fall Down\r\n                                                    rotate: c.rot + 360,\r\n                                                    scale: c.scale,\r\n                                                    opacity: stage === 5 ? 0.8 : 1 // Slight fade in settle\r\n                                                } : {}\r\n                                        }\r\n                                        transition={\r\n                                            stage === 2 ? { duration: 0.8, ease: \"circOut\" } : // Peek speed\r\n                                                {\r\n                                                    duration: stage >= 3 ? 4 : 1, // Long fall duration\r\n                                                    times: [0, 0.15, 1], // Timing of ballooning curve\r\n                                                    ease: [0.25, 0.1, 0.25, 1], // Smooth curve\r\n                                                    delay: c.delay\r\n                                                }\r\n                                        }\r\n                                    >\r\n                                        <c.Component className=\"w-6 h-6 drop-shadow-lg\" />\r\n                                    </motion.div>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Text Content */}\r\n                    <motion.div\r\n                        initial={{ opacity: 0, y: 10 }}\r\n                        animate={{\r\n                            opacity: stage >= 3 ? 1 : 0.5,\r\n                            y: stage >= 3 ? 0 : 10\r\n                        }}\r\n                        transition={{ duration: 0.5 }}\r\n                        className=\"text-center z-30\"\r\n                    >\r\n                        <h2 className=\"text-2xl font-bold mb-2\">You're all done!</h2>\r\n                        <p className=\"text-sm text-zinc-400\">You can now fully enjoy your meal.</p>\r\n                    </motion.div>\r\n\r\n                    {/* Button */}\r\n                    <motion.div\r\n                        className=\"mt-8 w-full max-w-[200px]\"\r\n                        initial={{ opacity: 0, scale: 0.9 }}\r\n                        animate={stage >= 4 ? { opacity: 1, scale: 1 } : {}}\r\n                        transition={{ type: \"spring\" }}\r\n                    >\r\n                        <button className=\"w-full bg-indigo-500 hover:bg-indigo-600 text-white font-semibold py-3 rounded-xl shadow-lg shadow-indigo-500/20 active:scale-95 transition-all\">\r\n                            Get Started\r\n                        </button>\r\n                    </motion.div>\r\n\r\n                </div>\r\n\r\n                {/* Home Indicator */}\r\n                <div className=\"absolute bottom-2 left-1/2 h-[4px] w-[100px] -translate-x-1/2 rounded-full bg-white/20 z-40\" />\r\n            </div>\r\n\r\n            {/* Frame Indicator for User */}\r\n            <div className=\"flex gap-2 text-xs text-zinc-400\">\r\n                <span>Frame: {stage}</span>\r\n                <span>\r\n                    {stage === 1 && \"(Minimal)\"}\r\n                    {stage === 2 && \"(Anticipation)\"}\r\n                    {stage === 3 && \"(Burst)\"}\r\n                    {stage === 4 && \"(Gravity)\"}\r\n                    {stage === 5 && \"(Settle)\"}\r\n                </span>\r\n            </div>\r\n            <button\r\n                onClick={() => setStage(1)}\r\n                className=\"text-xs text-indigo-500 hover:underline\"\r\n            >\r\n                Replay Animation\r\n            </button>\r\n\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 713, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/garin/OneDrive/Desktop/Projects/animation/app/components/CommentArea.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useRef, useEffect } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\ninterface Comment {\r\n    id: string;\r\n    text: string;\r\n    image?: string;\r\n    createdAt: string;\r\n}\r\n\r\nexport default function CommentArea({ slug }: { slug: string }) {\n    const [comments, setComments] = useState<Comment[]>([]);\n    const [text, setText] = useState(\"\");\n    const [selectedImage, setSelectedImage] = useState<string | null>(null);\n    const [isLoading, setIsLoading] = useState(false);\n    const [deletingCommentId, setDeletingCommentId] = useState<string | null>(null);\n    const fileInputRef = useRef<HTMLInputElement>(null);\n\r\n    // Fetch comments on mount\r\n    useEffect(() => {\r\n        if (!slug) return;\r\n        fetch(`/api/comments?slug=${slug}`)\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if (Array.isArray(data)) setComments(data);\r\n            })\r\n            .catch(err => console.error(\"Failed to load comments\", err));\r\n    }, [slug]);\r\n\r\n    const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0];\r\n        if (file) {\r\n            const reader = new FileReader();\r\n            reader.onloadend = () => {\r\n                setSelectedImage(reader.result as string);\r\n            };\r\n            reader.readAsDataURL(file);\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\r\n        if (!text.trim() && !selectedImage) return;\r\n\r\n        setIsLoading(true);\r\n\r\n        try {\r\n            const res = await fetch('/api/comments', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    text,\r\n                    image: selectedImage,\r\n                    slug,\r\n                }),\r\n            });\r\n\r\n            if (res.ok) {\r\n                const newComment = await res.json();\r\n                setComments([newComment, ...comments]);\r\n                setText(\"\");\r\n                setSelectedImage(null);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Failed to post comment\", error);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\n\n    const handleDeleteComment = async (commentId: string) => {\n        setDeletingCommentId(commentId);\n\n        try {\n            const res = await fetch(`/api/comments?id=${encodeURIComponent(commentId)}&slug=${encodeURIComponent(slug)}`, {\n                method: \"DELETE\",\n            });\n\n            if (res.ok) {\n                setComments((prev) => prev.filter((comment) => comment.id !== commentId));\n            }\n        } catch (error) {\n            console.error(\"Failed to delete comment\", error);\n        } finally {\n            setDeletingCommentId(null);\n        }\n    };\n\r\n    return (\n        <section className=\"max-w-2xl mx-auto mt-14 mb-10 px-4\">\n            <div className=\"rounded-3xl border-2 border-zinc-300 bg-zinc-50/95 shadow-[0_10px_30px_rgba(0,0,0,0.08)] p-5 sm:p-6 dark:border-zinc-700 dark:bg-zinc-900/95\">\n                <h2 className=\"text-2xl font-bold mb-6 text-zinc-900 dark:text-zinc-100\">Discussion</h2>\n\n                {/* Input Area */}\n                <div className={`bg-white dark:bg-zinc-900 rounded-2xl shadow-md border-2 border-zinc-200 dark:border-zinc-700 p-4 mb-8 transition-opacity ${isLoading ? 'opacity-50 pointer-events-none' : ''}`}>\n                    <form onSubmit={handleSubmit} className=\"flex flex-col gap-4\">\n                        <textarea\n                            value={text}\n                            onChange={(e) => setText(e.target.value)}\n                            placeholder=\"Write a comment...\"\n                            className=\"w-full resize-none bg-zinc-50 dark:bg-zinc-800/80 border border-zinc-200 dark:border-zinc-700 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-zinc-400 text-zinc-800 dark:text-zinc-200 placeholder-zinc-400 min-h-[90px]\"\n                        />\n\r\n                        {selectedImage && (\n                            <div className=\"relative w-fit\">\n                                <img\n                                    src={selectedImage}\n                                    alt=\"Preview\"\n                                    className=\"h-32 w-auto rounded-lg object-cover border border-zinc-200 dark:border-zinc-700\"\n                                />\n                                <button\n                                    type=\"button\"\n                                    onClick={() => setSelectedImage(null)}\n                                    className=\"absolute -top-2 -right-2 bg-zinc-900 text-white rounded-full p-1 shadow-md hover:bg-zinc-700 transition-colors\"\n                                >\n                                    <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"3\">\n                                        <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n                                        <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n                                    </svg>\n                                </button>\n                            </div>\n                        )}\n\r\n                        <div className=\"flex items-center justify-between border-t border-zinc-100 dark:border-zinc-800 pt-3\">\n                            <div className=\"flex gap-2\">\n                                <button\n                                    type=\"button\"\n                                    onClick={() => fileInputRef.current?.click()}\n                                    className=\"p-2 text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-200 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-full transition-colors\"\n                                    title=\"Add Image\"\n                                >\n                                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                        <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect>\n                                        <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\"></circle>\n                                        <polyline points=\"21 15 16 10 5 21\"></polyline>\n                                    </svg>\n                                </button>\n                                <input\n                                    type=\"file\"\n                                    ref={fileInputRef}\n                                    onChange={handleImageUpload}\n                                    accept=\"image/*\"\n                                    className=\"hidden\"\n                                />\n                            </div>\n\r\n                            <button\n                                type=\"submit\"\n                                disabled={!text.trim() && !selectedImage}\n                                className=\"px-4 py-2 bg-zinc-900 dark:bg-zinc-100 text-white dark:text-zinc-900 text-sm font-semibold rounded-full hover:bg-zinc-800 dark:hover:bg-zinc-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all\"\n                            >\n                                {isLoading ? 'Posting...' : 'Post Comment'}\n                            </button>\n                        </div>\n                    </form>\n                </div>\n\n                {/* Comments List */}\n                <div className=\"space-y-4\">\n                    <AnimatePresence initial={false} mode=\"popLayout\">\n                        {comments.map((comment) => (\n                            <motion.div\n                                key={comment.id}\n                                initial={{ opacity: 0, y: 20, scale: 0.95 }}\n                                animate={{ opacity: 1, y: 0, scale: 1 }}\n                                exit={{ opacity: 0, scale: 0.9 }}\n                                layout\n                                className=\"flex gap-4 p-4 bg-white dark:bg-zinc-900 rounded-2xl border-2 border-zinc-200 dark:border-zinc-700 shadow-sm\"\n                            >\n                            <div className=\"flex-shrink-0\">\r\n                                <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold text-sm\">\r\n                                    U\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"flex-1 min-w-0\">\n                                <div className=\"flex items-baseline justify-between mb-1\">\n                                    <span className=\"font-semibold text-zinc-900 dark:text-zinc-100 text-sm\">User</span>\n                                    <div className=\"flex items-center gap-3\">\n                                        <span className=\"text-xs text-zinc-400\">\n                                            {new Date(comment.createdAt).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                                        </span>\n                                        <button\n                                            type=\"button\"\n                                            onClick={() => handleDeleteComment(comment.id)}\n                                            disabled={deletingCommentId === comment.id}\n                                            className=\"text-xs font-medium text-red-500 hover:text-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                                        >\n                                            {deletingCommentId === comment.id ? \"Deleting...\" : \"Delete\"}\n                                        </button>\n                                    </div>\n                                </div>\n\r\n                                {comment.text && (\r\n                                    <p className=\"text-zinc-600 dark:text-zinc-300 text-sm mb-2 break-words\">{comment.text}</p>\r\n                                )}\r\n\r\n                                {comment.image && (\r\n                                    <img\r\n                                        src={comment.image}\r\n                                        alt=\"Comment attachment\"\r\n                                        className=\"rounded-lg max-h-60 w-auto object-cover border border-zinc-100 dark:border-zinc-800\"\r\n                                    />\r\n                                )}\r\n                            </div>\r\n                            </motion.div>\n                        ))}\n                    </AnimatePresence>\n\n                    {comments.length === 0 && (\n                        <div className=\"text-center py-12 text-zinc-500 dark:text-zinc-400 text-sm bg-white/70 dark:bg-zinc-900/60 border border-dashed border-zinc-300 dark:border-zinc-700 rounded-2xl\">\n                            No comments yet for this page.\n                        </div>\n                    )}\n                </div>\n            </div>\n        </section>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;;;AAHA;;;AAYe,SAAS,YAAY,EAAE,IAAI,EAAoB;;IAC1D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAgB;IAClE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,yKAAQ,EAAgB;IAC1E,MAAM,eAAe,IAAA,uKAAM,EAAmB;IAE9C,0BAA0B;IAC1B,IAAA,0KAAS;iCAAC;YACN,IAAI,CAAC,MAAM;YACX,MAAM,CAAC,mBAAmB,EAAE,MAAM,EAC7B,IAAI;yCAAC,CAAA,MAAO,IAAI,IAAI;wCACpB,IAAI;yCAAC,CAAA;oBACF,IAAI,MAAM,OAAO,CAAC,OAAO,YAAY;gBACzC;wCACC,KAAK;yCAAC,CAAA,MAAO,QAAQ,KAAK,CAAC,2BAA2B;;QAC/D;gCAAG;QAAC;KAAK;IAET,MAAM,oBAAoB,CAAC;QACvB,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,MAAM;YACN,MAAM,SAAS,IAAI;YACnB,OAAO,SAAS,GAAG;gBACf,iBAAiB,OAAO,MAAM;YAClC;YACA,OAAO,aAAa,CAAC;QACzB;IACJ;IAEA,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAChB,IAAI,CAAC,KAAK,IAAI,MAAM,CAAC,eAAe;QAEpC,aAAa;QAEb,IAAI;YACA,MAAM,MAAM,MAAM,MAAM,iBAAiB;gBACrC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACjB;oBACA,OAAO;oBACP;gBACJ;YACJ;YAEA,IAAI,IAAI,EAAE,EAAE;gBACR,MAAM,aAAa,MAAM,IAAI,IAAI;gBACjC,YAAY;oBAAC;uBAAe;iBAAS;gBACrC,QAAQ;gBACR,iBAAiB;YACrB;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,0BAA0B;QAC5C,SAAU;YACN,aAAa;QACjB;IACJ;IAEA,MAAM,sBAAsB,OAAO;QAC/B,qBAAqB;QAErB,IAAI;YACA,MAAM,MAAM,MAAM,MAAM,CAAC,iBAAiB,EAAE,mBAAmB,WAAW,MAAM,EAAE,mBAAmB,OAAO,EAAE;gBAC1G,QAAQ;YACZ;YAEA,IAAI,IAAI,EAAE,EAAE;gBACR,YAAY,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,UAAY,QAAQ,EAAE,KAAK;YAClE;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,4BAA4B;QAC9C,SAAU;YACN,qBAAqB;QACzB;IACJ;IAEA,qBACI,6LAAC;QAAQ,WAAU;kBACf,cAAA,6LAAC;YAAI,WAAU;;8BACX,6LAAC;oBAAG,WAAU;8BAA2D;;;;;;8BAGzE,6LAAC;oBAAI,WAAW,CAAC,0HAA0H,EAAE,YAAY,mCAAmC,IAAI;8BAC5L,cAAA,6LAAC;wBAAK,UAAU;wBAAc,WAAU;;0CACpC,6LAAC;gCACG,OAAO;gCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;gCACvC,aAAY;gCACZ,WAAU;;;;;;4BAGb,+BACG,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCACG,KAAK;wCACL,KAAI;wCACJ,WAAU;;;;;;kDAEd,6LAAC;wCACG,MAAK;wCACL,SAAS,IAAM,iBAAiB;wCAChC,WAAU;kDAEV,cAAA,6LAAC;4CAAI,OAAM;4CAAK,QAAO;4CAAK,SAAQ;4CAAY,MAAK;4CAAO,QAAO;4CAAe,aAAY;;8DAC1F,6LAAC;oDAAK,IAAG;oDAAK,IAAG;oDAAI,IAAG;oDAAI,IAAG;;;;;;8DAC/B,6LAAC;oDAAK,IAAG;oDAAI,IAAG;oDAAI,IAAG;oDAAK,IAAG;;;;;;;;;;;;;;;;;;;;;;;0CAM/C,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDACG,MAAK;gDACL,SAAS,IAAM,aAAa,OAAO,EAAE;gDACrC,WAAU;gDACV,OAAM;0DAEN,cAAA,6LAAC;oDAAI,OAAM;oDAAK,QAAO;oDAAK,SAAQ;oDAAY,MAAK;oDAAO,QAAO;oDAAe,aAAY;oDAAI,eAAc;oDAAQ,gBAAe;;sEACnI,6LAAC;4DAAK,GAAE;4DAAI,GAAE;4DAAI,OAAM;4DAAK,QAAO;4DAAK,IAAG;4DAAI,IAAG;;;;;;sEACnD,6LAAC;4DAAO,IAAG;4DAAM,IAAG;4DAAM,GAAE;;;;;;sEAC5B,6LAAC;4DAAS,QAAO;;;;;;;;;;;;;;;;;0DAGzB,6LAAC;gDACG,MAAK;gDACL,KAAK;gDACL,UAAU;gDACV,QAAO;gDACP,WAAU;;;;;;;;;;;;kDAIlB,6LAAC;wCACG,MAAK;wCACL,UAAU,CAAC,KAAK,IAAI,MAAM,CAAC;wCAC3B,WAAU;kDAET,YAAY,eAAe;;;;;;;;;;;;;;;;;;;;;;;8BAO5C,6LAAC;oBAAI,WAAU;;sCACX,6LAAC,+MAAe;4BAAC,SAAS;4BAAO,MAAK;sCACjC,SAAS,GAAG,CAAC,CAAC,wBACX,6LAAC,uMAAM,CAAC,GAAG;oCAEP,SAAS;wCAAE,SAAS;wCAAG,GAAG;wCAAI,OAAO;oCAAK;oCAC1C,SAAS;wCAAE,SAAS;wCAAG,GAAG;wCAAG,OAAO;oCAAE;oCACtC,MAAM;wCAAE,SAAS;wCAAG,OAAO;oCAAI;oCAC/B,MAAM;oCACN,WAAU;;sDAEd,6LAAC;4CAAI,WAAU;sDACX,cAAA,6LAAC;gDAAI,WAAU;0DAAuI;;;;;;;;;;;sDAK1J,6LAAC;4CAAI,WAAU;;8DACX,6LAAC;oDAAI,WAAU;;sEACX,6LAAC;4DAAK,WAAU;sEAAyD;;;;;;sEACzE,6LAAC;4DAAI,WAAU;;8EACX,6LAAC;oEAAK,WAAU;8EACX,IAAI,KAAK,QAAQ,SAAS,EAAE,kBAAkB,CAAC,EAAE,EAAE;wEAAE,MAAM;wEAAW,QAAQ;oEAAU;;;;;;8EAE7F,6LAAC;oEACG,MAAK;oEACL,SAAS,IAAM,oBAAoB,QAAQ,EAAE;oEAC7C,UAAU,sBAAsB,QAAQ,EAAE;oEAC1C,WAAU;8EAET,sBAAsB,QAAQ,EAAE,GAAG,gBAAgB;;;;;;;;;;;;;;;;;;gDAK/D,QAAQ,IAAI,kBACT,6LAAC;oDAAE,WAAU;8DAA6D,QAAQ,IAAI;;;;;;gDAGzF,QAAQ,KAAK,kBACV,6LAAC;oDACG,KAAK,QAAQ,KAAK;oDAClB,KAAI;oDACJ,WAAU;;;;;;;;;;;;;mCAvCb,QAAQ,EAAE;;;;;;;;;;wBA+C1B,SAAS,MAAM,KAAK,mBACjB,6LAAC;4BAAI,WAAU;sCAAmK;;;;;;;;;;;;;;;;;;;;;;;AAQ1M;GAhNwB;KAAA"}}]
}