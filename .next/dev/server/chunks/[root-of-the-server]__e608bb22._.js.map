{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/garin/OneDrive/Desktop/Projects/animation/app/api/places/photo/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\n\nconst API_KEY = process.env.GOOGLE_PLACE_API_KEY!;\n\nexport async function GET(request: NextRequest) {\n  const ref = request.nextUrl.searchParams.get(\"ref\");\n  const maxWidth = request.nextUrl.searchParams.get(\"maxWidth\") || \"400\";\n\n  if (!ref) {\n    return new NextResponse(\"Missing ref parameter\", { status: 400 });\n  }\n\n  const safeWidth = Math.min(Math.max(Number(maxWidth) || 400, 1), 1600);\n\n  try {\n    const url = `https://maps.googleapis.com/maps/api/place/photo?photo_reference=${encodeURIComponent(ref)}&maxwidth=${safeWidth}&key=${API_KEY}`;\n    const response = await fetch(url);\n\n    if (!response.ok) {\n      return new NextResponse(\"Photo not found\", { status: response.status });\n    }\n\n    return new NextResponse(response.body, {\n      status: 200,\n      headers: {\n        \"Content-Type\": response.headers.get(\"Content-Type\") || \"image/jpeg\",\n        \"Cache-Control\": \"public, max-age=86400, s-maxage=86400\",\n      },\n    });\n  } catch (err) {\n    console.error(\"Photo proxy error:\", err);\n    return new NextResponse(\"Internal error\", { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,UAAU,QAAQ,GAAG,CAAC,oBAAoB;AAEzC,eAAe,IAAI,OAAoB;IAC5C,MAAM,MAAM,QAAQ,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC;IAC7C,MAAM,WAAW,QAAQ,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,eAAe;IAEjE,IAAI,CAAC,KAAK;QACR,OAAO,IAAI,gJAAY,CAAC,yBAAyB;YAAE,QAAQ;QAAI;IACjE;IAEA,MAAM,YAAY,KAAK,GAAG,CAAC,KAAK,GAAG,CAAC,OAAO,aAAa,KAAK,IAAI;IAEjE,IAAI;QACF,MAAM,MAAM,CAAC,iEAAiE,EAAE,mBAAmB,KAAK,UAAU,EAAE,UAAU,KAAK,EAAE,SAAS;QAC9I,MAAM,WAAW,MAAM,MAAM;QAE7B,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,OAAO,IAAI,gJAAY,CAAC,mBAAmB;gBAAE,QAAQ,SAAS,MAAM;YAAC;QACvE;QAEA,OAAO,IAAI,gJAAY,CAAC,SAAS,IAAI,EAAE;YACrC,QAAQ;YACR,SAAS;gBACP,gBAAgB,SAAS,OAAO,CAAC,GAAG,CAAC,mBAAmB;gBACxD,iBAAiB;YACnB;QACF;IACF,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,sBAAsB;QACpC,OAAO,IAAI,gJAAY,CAAC,kBAAkB;YAAE,QAAQ;QAAI;IAC1D;AACF"}}]
}