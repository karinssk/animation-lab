(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,29801,(e,t,n)=>{"use strict";t.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;if(Array.isArray(t)){if((a=t.length)!=n.length)return!1;for(r=a;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((a=(s=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=a;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,s[r]))return!1;for(r=a;0!=r--;){var a,r,s,l=s[r];if(!e(t[l],n[l]))return!1}return!0}return t!=t&&n!=n}},55852,e=>{"use strict";var t=e.i(43476),n=e.i(71645),a=e.i(74080),r=e.i(29801);function s(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)0>t.indexOf(a[r])&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n}function l(e,t,n,a){return new(n||(n=Promise))(function(r,s){function l(e){try{o(a.next(e))}catch(e){s(e)}}function i(e){try{o(a.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(l,i)}o((a=a.apply(e,t||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;let i="NOT_LOADED",o="LOADED",c="AUTH_FAILURE";class d{static load(e,t){return l(this,void 0,void 0,function*(){var n,a;let r=e.libraries?e.libraries.split(","):[],s=this.serializeParams(e);this.listeners.push(t),(null==(a=null==(n=window.google)?void 0:n.maps)?void 0:a.importLibrary)?(this.serializedApiParams||(this.loadingStatus=o),this.notifyLoadingStatusListeners()):(this.serializedApiParams=s,this.initImportLibrary(e)),this.serializedApiParams&&this.serializedApiParams!==s&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");let l=["maps",...r];yield Promise.all(l.map(e=>google.maps.importLibrary(e)))})}static serializeParams(e){return[e.v,e.key,e.language,e.region,e.authReferrerPolicy,e.solutionChannel].join("/")}static initImportLibrary(e){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary)return void console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");let t=null,n=()=>t||(t=new Promise((t,n)=>{var a;let r=document.createElement("script"),s=new URLSearchParams;for(let[t,n]of Object.entries(e)){let e=t.replace(/[A-Z]/g,e=>"_"+e[0].toLowerCase());s.set(e,String(n))}s.set("loading","async"),s.set("callback","__googleMapsCallback__"),r.async=!0,r.src="https://maps.googleapis.com/maps/api/js?"+s.toString(),r.nonce=(null==(a=document.querySelector("script[nonce]"))?void 0:a.nonce)||"",r.onerror=()=>{this.loadingStatus="FAILED",this.notifyLoadingStatusListeners(),n(Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=o,this.notifyLoadingStatusListeners(),t()},window.gm_authFailure=()=>{this.loadingStatus=c,this.notifyLoadingStatusListeners()},this.loadingStatus="LOADING",this.notifyLoadingStatusListeners(),document.head.append(r)}));google.maps.importLibrary=e=>n().then(()=>google.maps.importLibrary(e))}static notifyLoadingStatusListeners(){for(let e of this.listeners)e(this.loadingStatus)}}d.loadingStatus=i,d.listeners=[];let u=["gmp_visgl_reactgooglemaps_v1.7.1"],h=n.default.createContext(null),p=e=>{let{children:t}=e,a=s(e,["children"]),{mapInstances:r,addMapInstance:i,removeMapInstance:o,clearMapInstances:c}=function(){let[e,t]=(0,n.useState)({});return{mapInstances:e,addMapInstance:(e,n="default")=>{t(t=>Object.assign(Object.assign({},t),{[n]:e}))},removeMapInstance:(e="default")=>{t(t=>(t[e],s(t,["symbol"==typeof e?e:e+""])))},clearMapInstances:()=>{t({})}}}(),{status:p,loadedLibraries:m,importLibrary:g}=function(e){let{onLoad:t,onError:a,apiKey:r,version:i,libraries:o=[]}=e,c=s(e,["onLoad","onError","apiKey","version","libraries"]),[u,h]=(0,n.useState)(d.loadingStatus),[p,m]=(0,n.useReducer)((e,t)=>e[t.name]?e:Object.assign(Object.assign({},e),{[t.name]:t.value}),{}),g=(0,n.useMemo)(()=>null==o?void 0:o.join(","),[o]),f=(0,n.useMemo)(()=>JSON.stringify(Object.assign({apiKey:r,version:i},c)),[r,i,c]),v=(0,n.useCallback)(e=>l(this,void 0,void 0,function*(){var t;if(p[e])return p[e];if(!(null==(t=null==google?void 0:google.maps)?void 0:t.importLibrary))throw Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");let n=yield window.google.maps.importLibrary(e);return m({name:e,value:n}),n}),[p]);return(0,n.useEffect)(()=>{l(this,void 0,void 0,function*(){try{let e=Object.assign({key:r},c);for(let t of(i&&(e.v=i),(null==g?void 0:g.length)>0&&(e.libraries=g),(void 0===e.channel||e.channel<0||e.channel>999)&&delete e.channel,void 0===e.solutionChannel?e.solutionChannel="GMP_visgl_rgmlibrary_v1_default":""===e.solutionChannel&&delete e.solutionChannel,yield d.load(e,e=>h(e)),["core","maps",...o]))yield v(t);t&&t()}catch(e){a?a(e):console.error("<ApiProvider> failed to load the Google Maps JavaScript API",e)}})},[r,g,f]),{status:u,loadedLibraries:p,importLibrary:v}}(a),f=(0,n.useMemo)(()=>a.disableUsageAttribution?null:u,[a.disableUsageAttribution]),v=(0,n.useMemo)(()=>({mapInstances:r,addMapInstance:i,removeMapInstance:o,clearMapInstances:c,status:p,loadedLibraries:m,importLibrary:g,internalUsageAttributionIds:f}),[r,i,o,c,p,m,g,f]);return n.default.createElement(h.Provider,{value:v},t)},m={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},g=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],f=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],v=Object.keys(m);function x(e,t){let a,r=(a=(0,n.useRef)(void 0),(0,n.useEffect)(()=>{a.current=e}),a.current);return(0,n.useMemo)(()=>r&&t(r,e)?r:e,[e,r,t])}let y=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","headingInteractionEnabled","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","tiltInteractionEnabled","zoomControl","zoomControlOptions"]);function j(){var e;return(null==(e=(0,n.useContext)(h))?void 0:e.status)||i}function _(e){return e&&"object"==typeof e&&"lat"in e&&"lng"in e&&Number.isFinite(e.lat)&&Number.isFinite(e.lng)?e:e.toJSON()}let b=()=>n.default.createElement("div",{style:{position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"}},n.default.createElement("h2",null,"Error: AuthFailure"),n.default.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",n.default.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."));class N{static has(e){return this.entries[e]&&this.entries[e].length>0}static pop(e){return this.entries[e]&&this.entries[e].pop()||null}static push(e,t){this.entries[e]||(this.entries[e]=[]),this.entries[e].push(t)}}N.entries={};let w=n.default.createContext(null),C=e=>{let t,a,l,i,d,u,{children:p,id:C,className:k,style:S}=e,E=(0,n.useContext)(h),O=j();if(!E)throw Error("<Map> can only be used inside an <ApiProvider> component.");let[L,I,P]=function(e,t){let a,r,l=j()===o,[i,c]=(0,n.useState)(null),[d,u]=function(){let[e,t]=(0,n.useState)(null);return[e,(0,n.useCallback)(e=>t(e),[t])]}(),h=(a=function(){let[,e]=(0,n.useReducer)(e=>e+1,0);return e}(),r=(0,n.useRef)({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0}),(0,n.useEffect)(()=>{if(!i)return;let e=google.maps.event.addListener(i,"bounds_changed",()=>{let e,t,n,s,l;e=i.getCenter(),t=i.getZoom(),n=i.getHeading()||0,s=i.getTilt()||0,l=i.getBounds(),e&&l&&Number.isFinite(t)||console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(r.current,{center:(null==e?void 0:e.toJSON())||{lat:0,lng:0},zoom:t||0,heading:n,tilt:s}),a()});return()=>e.remove()},[i,a]),r),{id:p,defaultBounds:m,defaultCenter:g,defaultZoom:f,defaultHeading:v,defaultTilt:x,reuseMaps:y,renderingType:_,colorScheme:b}=e,w=s(e,["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps","renderingType","colorScheme"]),C=void 0!==e.zoom||void 0!==e.defaultZoom,k=void 0!==e.center||void 0!==e.defaultCenter;m||C&&k||console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!w.center&&g&&(w.center=g),!w.zoom&&Number.isFinite(f)&&(w.zoom=f),!w.heading&&Number.isFinite(v)&&(w.heading=v),!w.tilt&&Number.isFinite(x)&&(w.tilt=x);let S=w.internalUsageAttributionIds;for(let e of(null==S?w.internalUsageAttributionIds=t.internalUsageAttributionIds:w.internalUsageAttributionIds=[...t.internalUsageAttributionIds||[],...S],Object.keys(w)))void 0===w[e]&&delete w[e];let E=(0,n.useRef)(void 0);return(0,n.useEffect)(()=>{let n,a;if(!d||!l)return;let{addMapInstance:r,removeMapInstance:i}=t,{mapId:o}=e,u=`${o||"default"}:${_||"default"}:${b||"LIGHT"}`;if(y&&N.has(u)?(n=(a=N.pop(u)).getDiv(),d.appendChild(n),a.setOptions(w),setTimeout(()=>a.setCenter(a.getCenter()),0)):((n=document.createElement("div")).style.height="100%",d.appendChild(n),a=new google.maps.Map(n,Object.assign(Object.assign(Object.assign({},w),_?{renderingType:_}:{}),b?{colorScheme:b}:{}))),c(a),r(a,p),m){let{padding:e}=m,t=s(m,["padding"]);a.fitBounds(t,e)}else C&&k||a.fitBounds({east:180,west:-180,south:-90,north:90});if(E.current){let{mapId:e,cameraState:t}=E.current;e!==o&&a.setOptions(t)}return()=>{E.current={mapId:o,cameraState:h.current},n.remove(),y?N.push(u,a):google.maps.event.clearInstanceListeners(a),c(null),i(p)}},[d,l,p,e.mapId,e.renderingType,e.colorScheme]),[i,u,h]}(e,E);for(let r of(t=e.center?_(e.center):null,a=null,l=null,t&&Number.isFinite(t.lat)&&Number.isFinite(t.lng)&&(a=t.lat,l=t.lng),i=Number.isFinite(e.zoom)?e.zoom:null,d=Number.isFinite(e.heading)?e.heading:null,u=Number.isFinite(e.tilt)?e.tilt:null,(0,n.useLayoutEffect)(()=>{if(!L)return;let e={},t=!1;null!==a&&null!==l&&(P.current.center.lat!==a||P.current.center.lng!==l)&&(e.center={lat:a,lng:l},t=!0),null!==i&&P.current.zoom!==i&&(e.zoom=i,t=!0),null!==d&&P.current.heading!==d&&(e.heading=d,t=!0),null!==u&&P.current.tilt!==u&&(e.tilt=u,t=!0),t&&L.moveCamera(e)}),v)){let t=e[r],a=m[r];(0,n.useEffect)(()=>{if(!L||!t)return;let e=google.maps.event.addListener(L,a,e=>{t(function(e,t,n){var a;let r={type:e,map:t,detail:{},stoppable:!1,stop:()=>{}};if(g.includes(e)){let e=t.getCenter(),n=t.getZoom(),a=t.getHeading()||0,s=t.getTilt()||0,l=t.getBounds();return e&&l&&Number.isFinite(n)||console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),r.detail={center:(null==e?void 0:e.toJSON())||{lat:0,lng:0},zoom:n||0,heading:a,tilt:s,bounds:(null==l?void 0:l.toJSON())||{north:90,east:180,south:-90,west:-180}},r}if(f.includes(e)){if(!n)throw Error("[createEvent] mouse events must provide a srcEvent");return r.domEvent=n.domEvent,r.stoppable=!0,r.stop=()=>n.stop(),r.detail={latLng:(null==(a=n.latLng)?void 0:a.toJSON())||null,placeId:n.placeId},r}return r}(a,L,e))});return()=>e.remove()},[L,a,t])}!function(e,t){var a,s,l;let i={};for(let e of Object.keys(t))y.has(e)&&(i[e]=t[e]);a=()=>{e&&e.setOptions(i)},s=[i],l=r.default,(0,n.useEffect)(a,[x(s,l)])}(L,e);let M=function(e,t){let{viewport:a,viewState:r}=t;return(0,n.useLayoutEffect)(()=>{if(!e||!r)return;let{latitude:t,longitude:n,bearing:a,pitch:s,zoom:l}=r;e.moveCamera({center:{lat:t,lng:n},heading:a,tilt:s,zoom:l+1})},[e,r]),!!a}(L,e),T=!!e.controlled;(0,n.useEffect)(()=>{if(L)return M&&L.setOptions({disableDefaultUI:!0}),(M||T)&&L.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{L.setOptions({gestureHandling:e.gestureHandling,keyboardShortcuts:e.keyboardShortcuts})}},[L,M,T,e.gestureHandling,e.keyboardShortcuts]);let z=e.center?_(e.center):null,A=null,R=null;z&&Number.isFinite(z.lat)&&Number.isFinite(z.lng)&&(A=z.lat,R=z.lng);let F=(0,n.useMemo)(()=>{var t,n,a;return{center:{lat:null!=A?A:0,lng:null!=R?R:0},zoom:null!=(t=e.zoom)?t:0,heading:null!=(n=e.heading)?n:0,tilt:null!=(a=e.tilt)?a:0}},[A,R,e.zoom,e.heading,e.tilt]);(0,n.useLayoutEffect)(()=>{if(!L||!T)return;L.moveCamera(F);let e=L.addListener("bounds_changed",()=>{L.moveCamera(F)});return()=>e.remove()},[L,T,F]);let D=(0,n.useMemo)(()=>Object.assign({width:"100%",height:"100%",position:"relative",zIndex:M?-1:0},S),[S,M]),$=(0,n.useMemo)(()=>({map:L}),[L]);return O===c?n.default.createElement("div",{style:Object.assign({position:"relative"},k?{}:D),className:k},n.default.createElement(b,null)):n.default.createElement("div",Object.assign({ref:I,"data-testid":"map",style:k?void 0:D,className:k},C?{id:C}:{}),L?n.default.createElement(w.Provider,{value:$},p):null)};C.deckGLViewProps=!0;let k=new Set,S=(e=null)=>{let t=(0,n.useContext)(h),{map:a}=(0,n.useContext)(w)||{};if(null===t)return!function(...e){let t=JSON.stringify(e);k.has(t)||(k.add(t),console.error(...e))}("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;let{mapInstances:r}=t;return null!==e?r[e]||null:a||r.default||null};function E(e){let t=j()===o,a=(0,n.useContext)(h);return(0,n.useEffect)(()=>{t&&a&&a.importLibrary(e)},[t,a,e]),(null==a?void 0:a.loadedLibraries[e])||null}function O(e,t,a){(0,n.useEffect)(()=>{if(!e||!t||!a)return;let n=google.maps.event.addListener(e,t,a);return()=>n.remove()},[e,t,a])}function L(e,t,a){(0,n.useEffect)(()=>{e&&(e[t]=a)},[e,t,a])}function I(e,t,a){(0,n.useEffect)(()=>{if(e&&t&&a)return e.addEventListener(t,a),()=>e.removeEventListener(t,a)},[e,t,a])}let P=new class{constructor(){this.renderedStyles=new Set,this.styleElement=null}getStyleElement(){return this.styleElement||(this.styleElement=document.createElement("style"),this.styleElement.setAttribute("data-rgm-anchor-styles",""),document.head.appendChild(this.styleElement)),this.styleElement}addAdvancedMarkerPointerEventsOverwrite(){if(this.renderedStyles.has("marker-pointer-events"))return;let e=this.getStyleElement();e.textContent+=`
      gmp-advanced-marker[data-origin='rgm'] {
        pointer-events: none !important;
      }
    `,this.renderedStyles.add("marker-pointer-events")}cleanup(){this.styleElement&&(this.styleElement.remove(),this.styleElement=null,this.renderedStyles.clear())}},M=n.default.createContext(null),T=["50%","100%"],z=(0,n.forwardRef)((e,t)=>{let{children:r,style:s,className:l,anchorPoint:i}=e,[o,c]=function(e){var t,a,r,s,l;let[i,o]=(0,n.useState)(null),[c,d]=(0,n.useState)(null),u=S(),h=E("marker"),{children:p,onClick:m,className:g,onMouseEnter:f,onMouseLeave:v,onDrag:x,onDragStart:y,onDragEnd:j,collisionBehavior:_,clickable:b,draggable:N,position:w,title:C,zIndex:k,anchorPoint:M,anchorLeft:z,anchorTop:R}=e,F=n.Children.count(p);return(0,n.useEffect)(()=>{if(!u||!h)return;let e=new h.AdvancedMarkerElement;e.map=u,o(e);let t=null;return F>0&&(e.content=t=document.createElement("div"),d(t)),()=>{e.map=null,null==t||t.remove(),o(null),d(null)}},[u,h,F]),(0,n.useEffect)(()=>{(null==i?void 0:i.content)&&A(i.content)&&!(F>0)&&(i.content.className=null!=g?g:"")},[i,g,F]),t=i,a=M,r=z,s=R,l=F>0,(0,n.useEffect)(()=>{if(!t||!l)return;let e=function(e,t){var n;if(!(null==(n=null==google?void 0:google.maps)?void 0:n.version))return;let a=google.maps.version.split("."),r=parseInt(a[0],10),s=parseInt(a[1],10);return r>3||3===r&&s>=62}(0,0),n=t.content;if(n&&A(n)){if(void 0!==r||void 0!==s){e||console.warn(`AdvancedMarker: The anchorLeft and anchorTop props are only supported in Google Maps API version 3.62 and above. The current version is ${google.maps.version}.`),t.anchorLeft=r,t.anchorTop=s,void 0!==a&&console.warn("AdvancedMarker: the anchorPoint prop is ignored when anchorLeft and/or anchorTop are set.");return}if(void 0!==a){let[r,s]=null!=a?a:T,l=`calc(-1 * ${r})`,i=`calc(-1 * ${s})`;e?(t.anchorLeft=l,t.anchorTop=i,n.style.transform=""):(n.style.transform=`translate(50%, 100%) translate(${l}, ${i})`,t.dataset.origin="rgm",P.addAdvancedMarkerPointerEventsOverwrite())}}},[t,a,r,s,l]),L(i,"position",w),L(i,"title",null!=C?C:""),L(i,"zIndex",k),L(i,"collisionBehavior",_),(0,n.useEffect)(()=>{i&&(void 0!==N?i.gmpDraggable=N:x||y||j?i.gmpDraggable=!0:i.gmpDraggable=!1)},[i,N,x,j,y]),(0,n.useEffect)(()=>{if(!i)return;let e=void 0!==b||!!m||!!f||!!v;i.gmpClickable=e,e&&(null==i?void 0:i.content)&&A(i.content)&&(i.content.style.pointerEvents="all",m&&(i.content.style.cursor="pointer"))},[i,b,m,f,v]),O(i,"click",m),O(i,"drag",x),O(i,"dragstart",y),O(i,"dragend",j),I(null==i?void 0:i.element,"mouseenter",f),I(null==i?void 0:i.element,"mouseleave",v),[i,c]}(e),d=(0,n.useMemo)(()=>o?{marker:o}:null,[o]);return((0,n.useImperativeHandle)(t,()=>o,[o]),c)?n.default.createElement(M.Provider,{value:d},(0,a.createPortal)(n.default.createElement(R,{anchorPoint:i,styles:s,className:l},r),c)):null});function A(e){return e.nodeType===Node.ELEMENT_NODE}z.displayName="AdvancedMarker";let R=({children:e,styles:t,className:a})=>n.default.createElement("div",{className:a,style:t},e);function F(e,t,n){var a;let r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||(a=t,D.has(a))?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}let D=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"]),$=e=>{let{children:t,headerContent:l,style:i,className:o,pixelOffset:c,anchor:d,shouldFocus:u,onClose:h,onCloseClick:p}=e,m=s(e,["children","headerContent","style","className","pixelOffset","anchor","shouldFocus","onClose","onCloseClick"]),g=E("maps"),[f,v]=(0,n.useState)(null),y=(0,n.useRef)(null),j=(0,n.useRef)(null),_=x(m,r.default);(0,n.useEffect)(()=>{if(!g)return;y.current=document.createElement("div"),j.current=document.createElement("div"),c&&(_.pixelOffset=new google.maps.Size(c[0],c[1])),l&&(_.headerContent="string"==typeof l?l:j.current);let e=new google.maps.InfoWindow(_);return e.setContent(y.current),v(e),()=>{var t,n;e.setContent(null),null==(t=y.current)||t.remove(),null==(n=j.current)||n.remove(),y.current=null,j.current=null,v(null)}},[g]);let b=(0,n.useRef)(null);(0,n.useEffect)(()=>{f&&y.current&&(!function(e,t,n){if(null!=t&&"object"!=typeof t)throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");let a=e.style;if(null==n){if(null==t)return;for(let e in t)t.hasOwnProperty(e)&&F(a,e,t[e]);return}for(let e in n)n.hasOwnProperty(e)&&(null==t||!t.hasOwnProperty(e))&&(0===e.indexOf("--")?a.setProperty(e,""):"float"===e?a.cssFloat="":a[e]="");if(null!=t)for(let e in t){let r=t[e];t.hasOwnProperty(e)&&n[e]!==r&&F(a,e,r)}}(y.current,i||null,b.current),b.current=i||null,o!==y.current.className&&(y.current.className=o||""))},[f,o,i]),(0,n.useEffect)(()=>{f&&(c?_.pixelOffset=new google.maps.Size(c[0],c[1]):_.pixelOffset=null,l?_.headerContent="string"==typeof l?l:j.current:_.headerContent=null,f.setOptions(_))},[_,c,l]),O(f,"close",h),O(f,"closeclick",p);let N=S();return(0,n.useEffect)(()=>{var e;if(!N||!f||null===d)return;let t=!!d,n={map:N};if(d&&(n.anchor=d,void 0!==d.content&&d.content instanceof Element)){let t=null==d?void 0:d.getBoundingClientRect();if(t&&"rgm"===d.dataset.origin){let n=null==(e=d.content.firstElementChild)?void 0:e.firstElementChild,a=null==n?void 0:n.getBoundingClientRect(),r=a.x-t.x+(a.width-t.width)/2,s=a.y-t.y;_.pixelOffset=new google.maps.Size(c?c[0]+r:r,c?c[1]+s:s),f.setOptions(_)}}return void 0!==u&&(n.shouldFocus=u),f.open(n),()=>{t&&f.set("anchor",null),f.close()}},[f,d,N,u,_,c]),n.default.createElement(n.default.Fragment,null,y.current&&(0,a.createPortal)(t,y.current),null!==j.current&&(0,a.createPortal)(l,j.current))};(0,n.forwardRef)((e,t)=>{let a=function(e){let[t,a]=(0,n.useState)(null),r=S(),{onClick:l,onDrag:i,onDragStart:o,onDragEnd:c,onMouseOver:d,onMouseOut:u}=e,h=s(e,["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"]),{position:p,draggable:m}=h;return(0,n.useEffect)(()=>{if(!r){void 0===r&&console.error("<Marker> has to be inside a Map component.");return}let e=new google.maps.Marker(h);return e.setMap(r),a(e),()=>{e.setMap(null),a(null)}},[r]),(0,n.useEffect)(()=>{if(!t)return;let e=google.maps.event;return l&&e.addListener(t,"click",l),i&&e.addListener(t,"drag",i),o&&e.addListener(t,"dragstart",o),c&&e.addListener(t,"dragend",c),d&&e.addListener(t,"mouseover",d),u&&e.addListener(t,"mouseout",u),t.setDraggable(!!m),()=>{e.clearInstanceListeners(t)}},[t,m,l,i,o,c,d,u]),(0,n.useEffect)(()=>{t&&t.setOptions(h)},[t,h]),(0,n.useEffect)(()=>{!m&&p&&t&&t.setPosition(p)},[m,p,t]),t}(e);return(0,n.useImperativeHandle)(t,()=>a,[a]),n.default.createElement(n.default.Fragment,null)}).displayName="Marker";var B=e.i(88653),U=e.i(46932);function W({value:e,onChange:n,onMyLocation:a,isLocating:r}){return(0,t.jsxs)("div",{className:"rs-search-bar",children:[(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"#8e8e93",strokeWidth:"2.5",strokeLinecap:"round",children:[(0,t.jsx)("circle",{cx:"11",cy:"11",r:"7"}),(0,t.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),(0,t.jsx)("input",{className:"rs-search-bar__input",type:"text",placeholder:"what're you looking for?",value:e,onChange:e=>n(e.target.value)}),e&&(0,t.jsx)("button",{className:"rs-search-bar__btn",onClick:()=>n(""),"aria-label":"Clear search",children:(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",children:[(0,t.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,t.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),(0,t.jsx)("button",{className:`rs-search-bar__btn ${r?"rs-search-bar__btn--active":""}`,onClick:a,"aria-label":"Use my location",children:(0,t.jsx)("img",{src:"/map.png",alt:"Use my location",width:20,height:20})})]})}let H={lat:13.7563,lng:100.5018},Z=[{id:"all",label:"All",icon:"ðŸ½ï¸",type:""},{id:"restaurant",label:"Restaurants",icon:"ðŸ´",type:"restaurant"},{id:"cafe",label:"Cafes",icon:"â˜•",type:"cafe"},{id:"bar",label:"Bars",icon:"ðŸ¸",type:"bar"},{id:"bakery",label:"Bakeries",icon:"ðŸ¥",type:"bakery"},{id:"meal_delivery",label:"Delivery",icon:"ðŸ›µ",type:"meal_delivery"},{id:"meal_takeaway",label:"Takeaway",icon:"ðŸ¥¡",type:"meal_takeaway"}];function J({activeFilter:e,onFilterChange:n}){return(0,t.jsx)("div",{className:"rs-filter-chips",children:Z.map(a=>{let r=a.id===e;return(0,t.jsxs)(U.motion.button,{className:`rs-chip rs-chip--${a.id} ${r?"rs-chip--active":""}`,onClick:()=>n(a.id,a.type),whileTap:{scale:.93},layout:!0,children:[(0,t.jsx)("span",{children:a.icon}),(0,t.jsx)("span",{children:a.label})]},a.id)})})}function G({center:e,zoom:a,results:r,selectedPlace:s,userLocation:l,onMarkerClick:i,onCameraChange:o}){let c=(0,n.useCallback)(e=>{let{center:t,zoom:n}=e.detail;o({lat:t.lat,lng:t.lng},n)},[o]);return(0,t.jsxs)(C,{mapId:"DEMO_MAP_ID",defaultCenter:e,defaultZoom:a,center:e,zoom:a,onCameraChanged:c,gestureHandling:"greedy",disableDefaultUI:!1,zoomControl:!0,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,style:{width:"100%",height:"100%"},children:[l&&(0,t.jsx)(z,{position:l,children:(0,t.jsx)("div",{className:"rs-user-marker"})}),r.map(e=>(0,t.jsx)(q,{place:e,isSelected:s?.placeId===e.placeId,onClick:i},e.placeId))]})}function q({place:e,isSelected:a,onClick:r}){let[s,l]=function(){let[e,t]=(0,n.useState)(null);return[(0,n.useCallback)(e=>{t(e)},[]),e]}(),i=e.photos?.[0]?`/api/places/photo?ref=${e.photos[0].photoReference}&maxWidth=100`:null;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(z,{ref:s,position:e.location,onClick:()=>r(e),title:e.name,zIndex:a?100:void 0,children:(0,t.jsx)("div",{className:`rs-marker-pin ${a?"rs-marker-pin--active":""} ${i?"rs-marker-pin--image":""}`,children:i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{src:i,alt:e.name,className:"rs-marker-pin__image"}),e.rating&&(0,t.jsx)("div",{className:"rs-marker-pin__badge",children:e.rating.toFixed(1)})]}):e.rating?e.rating.toFixed(1):"?"})}),a&&l&&(0,t.jsx)($,{anchor:l,maxWidth:220,children:(0,t.jsxs)("div",{style:{padding:4},children:[(0,t.jsx)("strong",{style:{fontSize:14},children:e.name}),(0,t.jsx)("p",{style:{fontSize:12,color:"#6b7280",margin:"4px 0 0"},children:e.address})]})})]})}function V({place:e,isSelected:n,onClick:a}){let r=e.photos.length>0?`/api/places/photo?ref=${e.photos[0].photoReference}&maxWidth=400`:null;return(0,t.jsxs)(U.motion.button,{onClick:a,className:`rs-card ${n?"rs-card--selected":""}`,whileHover:{y:-2},whileTap:{scale:.98},children:[(0,t.jsxs)("div",{className:"rs-card__image",children:[r?(0,t.jsx)("img",{src:r,alt:e.name,loading:"lazy"}):(0,t.jsx)("div",{className:"rs-card__image-placeholder",children:"ðŸ½ï¸"}),null!==e.openNow&&(0,t.jsx)("span",{className:`rs-card__status ${e.openNow?"rs-card__status--open":"rs-card__status--closed"}`,children:e.openNow?"Open":"Closed"})]}),(0,t.jsxs)("div",{className:"rs-card__info",children:[(0,t.jsx)("h3",{className:"rs-card__name",children:e.name}),(0,t.jsxs)("div",{className:"rs-card__meta",children:[null!==e.rating&&(0,t.jsxs)("span",{className:"rs-card__rating",children:[(0,t.jsx)(K,{})," ",e.rating.toFixed(1),(0,t.jsxs)("span",{className:"rs-card__reviews",children:["(",e.userRatingsTotal,")"]})]}),null!==e.priceLevel&&(0,t.jsx)("span",{className:"rs-card__price",children:"$".repeat(e.priceLevel+1)})]}),(0,t.jsx)("p",{className:"rs-card__address",children:e.address}),(0,t.jsx)("div",{className:"rs-card__types",children:e.types.filter(e=>!["point_of_interest","establishment","food"].includes(e)).slice(0,2).map(e=>(0,t.jsx)("span",{className:"rs-card__type-tag",children:e.replace(/_/g," ")},e))})]})]})}function K(){return(0,t.jsx)("svg",{viewBox:"0 0 20 20",width:"13",height:"13",fill:"#f59e0b",style:{flexShrink:0},children:(0,t.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})}function Q({results:e,isLoading:n,onCardClick:a,selectedPlaceId:r,hasMore:s,onLoadMore:l}){return(0,t.jsxs)("div",{children:[e.length>0&&(0,t.jsxs)("p",{className:"rs-list__count",children:[e.length," restaurant",1!==e.length?"s":""," found"]}),(0,t.jsx)("div",{className:"rs-list__grid",children:e.map((e,n)=>(0,t.jsx)(U.motion.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:Math.min(.04*n,.8),duration:.3},children:(0,t.jsx)(V,{place:e,isSelected:e.placeId===r,onClick:()=>a(e)})},e.placeId))}),n&&(0,t.jsx)(Y,{}),s&&!n&&(0,t.jsx)("button",{onClick:l,className:"rs-list__load-more",children:"Load More"}),!n&&0===e.length&&(0,t.jsxs)("div",{className:"rs-empty",children:[(0,t.jsx)("span",{children:"ðŸ½ï¸"}),(0,t.jsx)("p",{children:"Search for restaurants by name or area to get started."})]})]})}function Y(){return(0,t.jsx)("div",{className:"rs-list__grid",style:{marginTop:12},children:[0,1,2].map(e=>(0,t.jsxs)("div",{className:"rs-card rs-card--skeleton",children:[(0,t.jsx)("div",{className:"rs-card__image-skeleton",style:{animation:"pulse 1.5s ease-in-out infinite"}}),(0,t.jsxs)("div",{className:"rs-card__body-skeleton",children:[(0,t.jsx)("div",{style:{height:14,background:"#e5e7eb",borderRadius:6,width:"75%",animation:"pulse 1.5s ease-in-out infinite"}}),(0,t.jsx)("div",{style:{height:10,background:"#e5e7eb",borderRadius:6,width:"50%",marginTop:8,animation:"pulse 1.5s ease-in-out infinite"}}),(0,t.jsx)("div",{style:{height:10,background:"#e5e7eb",borderRadius:6,width:"60%",marginTop:6,animation:"pulse 1.5s ease-in-out infinite"}})]})]},e))})}function X(e){return Math.PI/180*e}function ee({place:e,details:n,userLocation:a,onClose:r}){var s;let l,i,o;if(!e)return null;let c=n?.photos??e.photos,d=e.types.filter(e=>!["point_of_interest","establishment","food"].includes(e)).slice(0,1).map(e=>e.replace(/_/g," ")).join(""),u=a?(l=X((s=e.location).lat-a.lat),i=X(s.lng-a.lng),6371*(2*Math.atan2(Math.sqrt(o=Math.sin(l/2)*Math.sin(l/2)+Math.cos(X(a.lat))*Math.cos(X(s.lat))*Math.sin(i/2)*Math.sin(i/2)),Math.sqrt(1-o)))).toFixed(1)+" km":null;return(0,t.jsxs)(U.motion.div,{className:"rs-detail-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,t.jsx)(U.motion.div,{className:"rs-detail-backdrop",onClick:r,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}),(0,t.jsxs)(U.motion.div,{className:"rs-detail-panel",initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300},children:[(0,t.jsx)("div",{className:"rs-detail__handle",onClick:r,children:(0,t.jsx)("div",{className:"rs-detail__handle-bar"})}),(0,t.jsx)("div",{className:"rs-detail__photos",children:c.length>0?c.map((n,a)=>(0,t.jsx)("img",{src:`/api/places/photo?ref=${n.photoReference}&maxWidth=600`,alt:`${e.name} photo ${a+1}`,className:"rs-detail__photo",loading:0===a?"eager":"lazy"},a)):(0,t.jsx)("div",{className:"rs-detail__photo-placeholder",children:"ðŸ½ï¸"})}),(0,t.jsxs)("div",{className:"rs-detail__header",children:[(0,t.jsx)("h2",{children:e.name}),d&&(0,t.jsxs)("p",{className:"rs-detail__category",children:[d," Â· ",e.address.split(",")[0]]}),(0,t.jsxs)("div",{className:"rs-detail__meta",children:[null!==e.rating&&(0,t.jsxs)("span",{className:"rs-detail__meta-rating",children:[(0,t.jsx)(ea,{})," ",e.rating.toFixed(1),(0,t.jsxs)("span",{style:{color:"#8e8e93",fontWeight:400},children:["(",e.userRatingsTotal,")"]})]}),null!==e.priceLevel&&(0,t.jsx)("span",{children:"$".repeat(e.priceLevel+1)}),null!==e.openNow&&(0,t.jsx)("span",{className:e.openNow?"rs-detail__meta-open":"rs-detail__meta-closed",children:e.openNow?"Open Now":"Closed"}),u&&(0,t.jsxs)("span",{style:{marginLeft:4},children:["ðŸ“ ",u]})]})]}),(0,t.jsxs)("div",{className:"rs-detail__actions",children:[(0,t.jsxs)("button",{className:"rs-detail__action-btn",children:[(0,t.jsx)("div",{className:"rs-detail__action-icon rs-detail__action-icon--primary",children:(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("polygon",{points:"3 11 22 2 13 21 11 13 3 11"})})}),(0,t.jsx)("span",{className:"rs-detail__action-label",children:"Directions"})]}),n?.formattedPhone&&(0,t.jsx)("a",{href:`tel:${n.formattedPhone}`,style:{textDecoration:"none"},children:(0,t.jsxs)("button",{className:"rs-detail__action-btn",children:[(0,t.jsx)("div",{className:"rs-detail__action-icon rs-detail__action-icon--secondary",children:(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#007aff",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72c.127.96.361 1.903.7 2.81a2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0122 16.92z"})})}),(0,t.jsx)("span",{className:"rs-detail__action-label",children:"Call"})]})}),n?.website&&(0,t.jsx)("a",{href:n.website,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,t.jsxs)("button",{className:"rs-detail__action-btn",children:[(0,t.jsx)("div",{className:"rs-detail__action-icon rs-detail__action-icon--secondary",children:(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#007aff",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.jsx)("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),(0,t.jsx)("path",{d:"M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"})]})}),(0,t.jsx)("span",{className:"rs-detail__action-label",children:"Website"})]})}),(0,t.jsxs)("button",{className:"rs-detail__action-btn",children:[(0,t.jsx)("div",{className:"rs-detail__action-icon rs-detail__action-icon--secondary",children:(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#007aff",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M4 12v8a2 2 0 002 2h12a2 2 0 002-2v-8"}),(0,t.jsx)("polyline",{points:"16 6 12 2 8 6"}),(0,t.jsx)("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]})}),(0,t.jsx)("span",{className:"rs-detail__action-label",children:"Share"})]})]}),(0,t.jsxs)("div",{className:"rs-detail__info-grid",style:{gridTemplateColumns:u?"repeat(4, 1fr)":"repeat(3, 1fr)"},children:[(0,t.jsxs)("div",{className:"rs-detail__info-cell",children:[(0,t.jsx)("div",{className:"rs-detail__info-cell-label",children:"Hours"}),(0,t.jsx)("div",{className:`rs-detail__info-cell-value ${!1===e.openNow?"rs-detail__info-cell-value--red":e.openNow?"rs-detail__info-cell-value--green":""}`,children:null===e.openNow?"â€”":e.openNow?"Open":"Closed"})]}),(0,t.jsxs)("div",{className:"rs-detail__info-cell",children:[(0,t.jsx)("div",{className:"rs-detail__info-cell-label",children:"Rating"}),(0,t.jsx)("div",{className:"rs-detail__info-cell-value",children:null!==e.rating?e.rating.toFixed(1):"â€”"})]}),(0,t.jsxs)("div",{className:"rs-detail__info-cell",children:[(0,t.jsx)("div",{className:"rs-detail__info-cell-label",children:"Reviews"}),(0,t.jsx)("div",{className:"rs-detail__info-cell-value",children:e.userRatingsTotal>0?e.userRatingsTotal.toLocaleString():"â€”"})]}),u&&(0,t.jsxs)("div",{className:"rs-detail__info-cell",children:[(0,t.jsx)("div",{className:"rs-detail__info-cell-label",children:"Distance"}),(0,t.jsx)("div",{className:"rs-detail__info-cell-value",children:u})]})]}),!n&&(0,t.jsx)("div",{className:"rs-detail__loading",children:(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[80,60,70,50].map((e,n)=>(0,t.jsx)("div",{style:{height:12,background:"#e5e7eb",borderRadius:6,width:`${e}%`,animation:"pulse 1.5s ease-in-out infinite"}},n))})}),n&&(0,t.jsxs)(t.Fragment,{children:[n.editorialSummary&&(0,t.jsx)("p",{className:"rs-detail__summary",children:n.editorialSummary}),(0,t.jsxs)("div",{className:"rs-detail__section",children:[(0,t.jsx)("h3",{children:"Info"}),(0,t.jsx)(et,{icon:"ðŸ“",value:n.formattedAddress}),n.formattedPhone&&(0,t.jsx)(et,{icon:"ðŸ“ž",value:n.formattedPhone,href:`tel:${n.formattedPhone}`}),n.website&&(0,t.jsx)(et,{icon:"ðŸŒ",value:"Visit website",href:n.website})]}),n.weekdayText.length>0&&(0,t.jsxs)("div",{className:"rs-detail__section",children:[(0,t.jsx)("h3",{children:"Opening Hours"}),(0,t.jsx)("ul",{className:"rs-detail__hours-list",children:n.weekdayText.map((e,n)=>(0,t.jsx)("li",{children:e},n))})]}),n.reviews.length>0&&(0,t.jsxs)("div",{className:"rs-detail__section",children:[(0,t.jsx)("h3",{children:"Ratings & Reviews"}),n.reviews.map((e,n)=>(0,t.jsx)(en,{review:e},n))]})]})]})]})}function et({icon:e,value:n,href:a}){return(0,t.jsxs)("div",{className:"rs-detail__info-row",children:[(0,t.jsx)("span",{children:e}),a?(0,t.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:n}):(0,t.jsx)("span",{children:n})]})}function en({review:e}){return(0,t.jsxs)("div",{className:"rs-detail__review",children:[(0,t.jsxs)("div",{className:"rs-detail__review-header",children:[e.authorPhotoUrl?(0,t.jsx)("img",{src:e.authorPhotoUrl,alt:e.authorName,className:"rs-detail__review-avatar",referrerPolicy:"no-referrer",loading:"lazy"}):(0,t.jsx)("div",{className:"rs-detail__review-avatar",style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,color:"#8e8e93",background:"#f2f2f7"},children:"ðŸ‘¤"}),(0,t.jsx)("span",{className:"rs-detail__review-author",children:e.authorName}),(0,t.jsx)("span",{className:"rs-detail__review-time",children:e.relativeTime})]}),(0,t.jsxs)("div",{className:"rs-detail__review-stars",children:["â˜…".repeat(e.rating),"â˜†".repeat(5-e.rating)]}),e.text&&(0,t.jsx)("p",{className:"rs-detail__review-text",children:e.text})]})}function ea(){return(0,t.jsx)("svg",{viewBox:"0 0 20 20",width:"15",height:"15",fill:"#ff9500",style:{flexShrink:0},children:(0,t.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})}function er({onSuggestionClick:e,onInputClick:n,onMyLocationClick:a,onPlaceClick:r,places:s}){let l=s.slice(0,2),i=s.slice(0,4),o=new Set(i.map(e=>e.placeId)),c=s.filter(e=>!o.has(e.placeId));return(0,t.jsxs)("div",{className:"rs-discovery",children:[(0,t.jsxs)(U.motion.div,{className:"rs-vibe-search",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[(0,t.jsx)("h2",{className:"rs-vibe-search__title",children:"Restaurant search"}),(0,t.jsx)("p",{className:"rs-vibe-search__subtitle",children:"ai powered search"}),(0,t.jsxs)("div",{style:{display:"flex",gap:"10px",marginBottom:"14px"},children:[(0,t.jsxs)("div",{className:"rs-vibe-search__input",onClick:n,style:{cursor:"pointer",marginBottom:0,flex:1},children:[(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"rgba(255,255,255,0.4)",strokeWidth:"2.5",strokeLinecap:"round",children:[(0,t.jsx)("circle",{cx:"11",cy:"11",r:"7"}),(0,t.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),(0,t.jsx)("span",{children:"what're you looking for?"})]}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),a?.()},style:{width:"44px",height:"44px",borderRadius:"12px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.15)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",flexShrink:0},"aria-label":"Use my location",children:(0,t.jsx)("img",{src:"/map.png",alt:"Use my location",width:24,height:24})})]}),l.length>0&&(0,t.jsx)("div",{className:"rs-suggestions flex-col items-stretch",children:l.map((n,a)=>(0,t.jsxs)(U.motion.button,{className:"rs-suggestion-chip w-full justify-between",onClick:()=>e(n.name),initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2+.06*a},whileTap:{scale:.95},style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",textAlign:"left"},children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",children:[(0,t.jsx)("polyline",{points:"15 3 21 3 21 9"}),(0,t.jsx)("line",{x1:"21",y1:"3",x2:"14",y2:"10"})]}),(0,t.jsx)("span",{className:"font-semibold text-sm",children:n.name})]}),(0,t.jsxs)("div",{className:"text-[11px] text-zinc-400 pl-5 flex items-center gap-2",children:[n.rating&&(0,t.jsxs)("span",{className:"flex items-center gap-1 text-yellow-500",children:["â˜… ",n.rating.toFixed(1)]}),(0,t.jsxs)("span",{className:"text-zinc-500",children:["(",n.userRatingsTotal||0,")",n.priceLevel?` â€¢ ${"$".repeat(n.priceLevel)}`:""]})]})]}),(0,t.jsx)("div",{className:"text-[10px] text-zinc-500 bg-zinc-800/50 px-2 py-1 rounded-md",children:"Open"})]},n.placeId))})]}),i.length>0&&(0,t.jsxs)(U.motion.div,{className:"rs-discovery__section",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15,duration:.4},children:[(0,t.jsx)("div",{className:"rs-discovery__section-header",children:(0,t.jsx)("div",{children:(0,t.jsx)("h3",{className:"rs-discovery__section-title",children:"curations for you"})})}),(0,t.jsx)("div",{className:"rs-curated-scroll",children:i.map((e,n)=>{let a=e.photos?.[0]?`/api/places/photo?ref=${e.photos[0].photoReference}&maxWidth=400`:null;return(0,t.jsxs)(U.motion.div,{className:"rs-curated-card",onClick:()=>r?.(e),initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.25+.08*n},whileTap:{scale:.97},children:[a?(0,t.jsx)("img",{src:a,alt:e.name,loading:"lazy"}):(0,t.jsx)("div",{className:"rs-curated-card__placeholder",children:"ðŸ½ï¸"}),(0,t.jsx)("div",{className:"rs-curated-card__overlay",children:(0,t.jsx)("span",{className:"rs-curated-card__label",children:e.name})})]},e.placeId)})})]}),c.length>0&&(0,t.jsxs)(U.motion.div,{className:"rs-discovery__section",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.4},children:[(0,t.jsxs)("div",{className:"rs-discovery__section-header",children:[(0,t.jsx)("h3",{className:"rs-discovery__section-title",children:"places for you"}),(0,t.jsx)("button",{className:"rs-discovery__see-all",children:"See all"})]}),c.map((e,n)=>{let a=e.photos?.[0]?`/api/places/photo?ref=${e.photos[0].photoReference}&maxWidth=400`:null;return(0,t.jsxs)(U.motion.div,{className:"rs-place-card",onClick:()=>r?.(e),initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.35+.06*n},whileTap:{scale:.98},children:[(0,t.jsx)("div",{className:"rs-place-card__image",children:a?(0,t.jsx)("img",{src:a,alt:e.name,loading:"lazy"}):(0,t.jsx)("div",{className:"rs-card__image-placeholder",children:"ðŸ½ï¸"})}),(0,t.jsxs)("div",{className:"rs-place-card__info",children:[(0,t.jsx)("h4",{className:"rs-place-card__name",children:e.name}),(0,t.jsx)("p",{className:"rs-place-card__category",children:e.address.split(",")[0]}),(0,t.jsxs)("div",{className:"rs-place-card__meta",children:[e.rating&&(0,t.jsxs)("span",{className:"rs-place-card__rating",children:[(0,t.jsx)("svg",{viewBox:"0 0 20 20",width:"12",height:"12",fill:"#ff9500",style:{flexShrink:0},children:(0,t.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),e.rating.toFixed(1)]}),e.priceLevel&&(0,t.jsx)("span",{className:"rs-place-card__price",children:"$".repeat(e.priceLevel)}),null!==e.openNow&&(0,t.jsx)("span",{style:{color:e.openNow?"#34c759":"#ff3b30",fontWeight:600,fontSize:"11px"},children:e.openNow?"Open":"Closed"})]})]})]},e.placeId)})]})]})}function es({apiKey:e}){let[a,r]=(0,n.useState)("discovery"),[s,l]=(0,n.useState)(""),[i,o]=(0,n.useState)("all"),[c,d]=(0,n.useState)([]),[u,h]=(0,n.useState)(!1),[m,g]=(0,n.useState)(H),[f,v]=(0,n.useState)(14),[x,y]=(0,n.useState)(null),[j,_]=(0,n.useState)(null),[b,N]=(0,n.useState)(!1),[w,C]=(0,n.useState)(null),[k,S]=(0,n.useState)(!1),[E,O]=(0,n.useState)(null),[L,I]=(0,n.useState)([]),P=(0,n.useRef)(null),M=(0,n.useRef)(null),T=(0,n.useRef)(!1);(0,n.useRef)(null),(0,n.useEffect)(()=>{T.current||(T.current=!0,(async()=>{try{let e=await fetch("/api/places/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"popular restaurants",location:H,radius:5e3})}),t=await e.json();t.results&&I(t.results.slice(0,12))}catch(e){console.error("Discovery fetch failed:",e)}})())},[]);let z=(0,n.useCallback)(async(e,t,n,a)=>{M.current?.abort();let r=new AbortController;M.current=r,h(!0);try{let s=await fetch("/api/places/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e||"restaurant",location:t,radius:5e3,type:n||void 0,pageToken:a}),signal:r.signal}),l=await s.json();("REQUEST_DENIED"===l.status||"OVER_QUERY_LIMIT"===l.status)&&console.error("API Error:",l.error),a?d(e=>[...e,...l.results||[]]):d(l.results||[]),O(l.nextPageToken),!a&&l.results?.length>0&&!t&&g(l.results[0].location)}catch(e){"AbortError"!==e.name&&console.error("Search failed:",e)}finally{h(!1)}},[]),A=(0,n.useCallback)(e=>{r("search"),void 0!==e&&l(e)},[]),R=(0,n.useCallback)(e=>{if(l(e),P.current&&clearTimeout(P.current),!e.trim()){"search"===a&&c.length,d([]),O(null);return}"discovery"===a&&r("search"),P.current=setTimeout(()=>{e.trim().length>=2&&z(e,w||m,"all"===i?"":i)},500)},[z,w,m,i,a,c.length]),F=(0,n.useCallback)((e,t)=>{o(e),(s.trim().length>=2||w)&&z(s||"restaurant",w||m,t)},[z,s,w,m]),D=(0,n.useCallback)(async e=>{y(e),N(!0),_(null),g(e.location);try{let t=await fetch(`/api/places/details?placeId=${e.placeId}`),n=await t.json();n.error||_(n)}catch(e){console.error("Failed to fetch details:",e)}},[]),$=(0,n.useCallback)(()=>{N(!1),y(null),_(null)},[]),Z=(0,n.useCallback)(()=>{navigator.geolocation&&(S(!0),"discovery"===a&&A(),navigator.geolocation.getCurrentPosition(e=>{let t={lat:e.coords.latitude,lng:e.coords.longitude};C(t),g(t),v(15),S(!1),z(s||"restaurant",t,"all"===i?"":i)},e=>{console.error("Geolocation error:",e),S(!1)},{enableHighAccuracy:!0,timeout:1e4}))},[z,s,i,a,A]),q=(0,n.useCallback)(()=>{E&&z(s,w||m,"all"===i?"":i,E)},[E,z,s,w,m,i]),V=(0,n.useCallback)((e,t)=>{g(e),v(t)},[]),K=(0,n.useCallback)(e=>{A(e),z(e,w||m,"all"===i?"":i)},[A,z,w,m,i]),Y=(0,n.useCallback)(()=>{A(),setTimeout(()=>{let e=document.querySelector(".rs-search-bar__input");e&&e.focus()},100)},[A]);return(0,t.jsx)(p,{apiKey:e,libraries:["places","marker"],children:(0,t.jsxs)("div",{className:"rs-page",children:[(0,t.jsxs)("div",{className:"rs-status-bar",children:[(0,t.jsx)("span",{children:"9:41"}),(0,t.jsx)("div",{className:"rs-status-bar__icons",children:(0,t.jsxs)("span",{className:"rs-battery-icon","aria-hidden":"true",children:[(0,t.jsx)("span",{className:"rs-battery-icon__level"}),(0,t.jsx)("span",{className:"rs-battery-icon__cap"})]})})]}),(0,t.jsx)(B.AnimatePresence,{children:"search"===a&&(0,t.jsxs)(U.motion.header,{className:"rs-header",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[(0,t.jsx)(W,{value:s,onChange:R,onMyLocation:Z,isLocating:k}),(0,t.jsx)(J,{activeFilter:i,onFilterChange:F})]})}),(0,t.jsx)("div",{className:"rs-body",children:"discovery"===a?(0,t.jsx)(er,{onSuggestionClick:K,onInputClick:Y,onMyLocationClick:Z,onPlaceClick:D,places:L}):(0,t.jsxs)(U.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},style:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,t.jsx)("div",{className:"rs-map-container",children:(0,t.jsx)(G,{center:m,zoom:f,results:c,selectedPlace:x,userLocation:w,onMarkerClick:D,onCameraChange:V})}),(0,t.jsx)("div",{className:"rs-list-container",children:(0,t.jsx)(Q,{results:c,isLoading:u,onCardClick:D,selectedPlaceId:x?.placeId??null,hasMore:!!E,onLoadMore:q})})]})}),(0,t.jsx)(B.AnimatePresence,{children:b&&(0,t.jsx)(ee,{place:x,details:j,userLocation:w,onClose:$})})]})})}e.s(["RestaurantSearchPage",()=>es],55852)}]);