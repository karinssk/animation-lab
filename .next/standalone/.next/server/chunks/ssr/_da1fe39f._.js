module.exports=[94939,(a,b,c)=>{"use strict";b.exports=function a(b,c){if(b===c)return!0;if(b&&c&&"object"==typeof b&&"object"==typeof c){if(b.constructor!==c.constructor)return!1;if(Array.isArray(b)){if((d=b.length)!=c.length)return!1;for(e=d;0!=e--;)if(!a(b[e],c[e]))return!1;return!0}if(b.constructor===RegExp)return b.source===c.source&&b.flags===c.flags;if(b.valueOf!==Object.prototype.valueOf)return b.valueOf()===c.valueOf();if(b.toString!==Object.prototype.toString)return b.toString()===c.toString();if((d=(f=Object.keys(b)).length)!==Object.keys(c).length)return!1;for(e=d;0!=e--;)if(!Object.prototype.hasOwnProperty.call(c,f[e]))return!1;for(e=d;0!=e--;){var d,e,f,g=f[e];if(!a(b[g],c[g]))return!1}return!0}return b!=b&&c!=c}},77966,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(35112),e=a.i(94939);function f(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}function g(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;let h="NOT_LOADED",i="LOADED",j="AUTH_FAILURE";class k{static load(a,b){return g(this,void 0,void 0,function*(){var c,d;let e=a.libraries?a.libraries.split(","):[],f=this.serializeParams(a);this.listeners.push(b),(null==(d=null==(c=window.google)?void 0:c.maps)?void 0:d.importLibrary)?(this.serializedApiParams||(this.loadingStatus=i),this.notifyLoadingStatusListeners()):(this.serializedApiParams=f,this.initImportLibrary(a)),this.serializedApiParams&&this.serializedApiParams!==f&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");let g=["maps",...e];yield Promise.all(g.map(a=>google.maps.importLibrary(a)))})}static serializeParams(a){return[a.v,a.key,a.language,a.region,a.authReferrerPolicy,a.solutionChannel].join("/")}static initImportLibrary(a){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary)return void console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");let b=null,c=()=>b||(b=new Promise((b,c)=>{var d;let e=document.createElement("script"),f=new URLSearchParams;for(let[b,c]of Object.entries(a)){let a=b.replace(/[A-Z]/g,a=>"_"+a[0].toLowerCase());f.set(a,String(c))}f.set("loading","async"),f.set("callback","__googleMapsCallback__"),e.async=!0,e.src="https://maps.googleapis.com/maps/api/js?"+f.toString(),e.nonce=(null==(d=document.querySelector("script[nonce]"))?void 0:d.nonce)||"",e.onerror=()=>{this.loadingStatus="FAILED",this.notifyLoadingStatusListeners(),c(Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=i,this.notifyLoadingStatusListeners(),b()},window.gm_authFailure=()=>{this.loadingStatus=j,this.notifyLoadingStatusListeners()},this.loadingStatus="LOADING",this.notifyLoadingStatusListeners(),document.head.append(e)}));google.maps.importLibrary=a=>c().then(()=>google.maps.importLibrary(a))}static notifyLoadingStatusListeners(){for(let a of this.listeners)a(this.loadingStatus)}}k.loadingStatus=h,k.listeners=[];let l=["gmp_visgl_reactgooglemaps_v1.7.1"],m=c.default.createContext(null),n=a=>{let{children:b}=a,d=f(a,["children"]),{mapInstances:e,addMapInstance:h,removeMapInstance:i,clearMapInstances:j}=function(){let[a,b]=(0,c.useState)({});return{mapInstances:a,addMapInstance:(a,c="default")=>{b(b=>Object.assign(Object.assign({},b),{[c]:a}))},removeMapInstance:(a="default")=>{b(b=>(b[a],f(b,["symbol"==typeof a?a:a+""])))},clearMapInstances:()=>{b({})}}}(),{status:n,loadedLibraries:o,importLibrary:p}=function(a){let{onLoad:b,onError:d,apiKey:e,version:h,libraries:i=[]}=a,j=f(a,["onLoad","onError","apiKey","version","libraries"]),[l,m]=(0,c.useState)(k.loadingStatus),[n,o]=(0,c.useReducer)((a,b)=>a[b.name]?a:Object.assign(Object.assign({},a),{[b.name]:b.value}),{}),p=(0,c.useMemo)(()=>null==i?void 0:i.join(","),[i]),q=(0,c.useMemo)(()=>JSON.stringify(Object.assign({apiKey:e,version:h},j)),[e,h,j]),r=(0,c.useCallback)(a=>g(this,void 0,void 0,function*(){var b;if(n[a])return n[a];if(!(null==(b=null==google?void 0:google.maps)?void 0:b.importLibrary))throw Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");let c=yield window.google.maps.importLibrary(a);return o({name:a,value:c}),c}),[n]);return(0,c.useEffect)(()=>{g(this,void 0,void 0,function*(){try{let a=Object.assign({key:e},j);for(let b of(h&&(a.v=h),(null==p?void 0:p.length)>0&&(a.libraries=p),(void 0===a.channel||a.channel<0||a.channel>999)&&delete a.channel,void 0===a.solutionChannel?a.solutionChannel="GMP_visgl_rgmlibrary_v1_default":""===a.solutionChannel&&delete a.solutionChannel,yield k.load(a,a=>m(a)),["core","maps",...i]))yield r(b);b&&b()}catch(a){d?d(a):console.error("<ApiProvider> failed to load the Google Maps JavaScript API",a)}})},[e,p,q]),{status:l,loadedLibraries:n,importLibrary:r}}(d),q=(0,c.useMemo)(()=>d.disableUsageAttribution?null:l,[d.disableUsageAttribution]),r=(0,c.useMemo)(()=>({mapInstances:e,addMapInstance:h,removeMapInstance:i,clearMapInstances:j,status:n,loadedLibraries:o,importLibrary:p,internalUsageAttributionIds:q}),[e,h,i,j,n,o,p,q]);return c.default.createElement(m.Provider,{value:r},b)},o={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},p=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],q=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],r=Object.keys(o);function s(a,b){let d,e=(d=(0,c.useRef)(void 0),(0,c.useEffect)(()=>{d.current=a}),d.current);return(0,c.useMemo)(()=>e&&b(e,a)?e:a,[a,e,b])}let t=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","headingInteractionEnabled","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","tiltInteractionEnabled","zoomControl","zoomControlOptions"]);function u(){var a;return(null==(a=(0,c.useContext)(m))?void 0:a.status)||h}function v(a){return a&&"object"==typeof a&&"lat"in a&&"lng"in a&&Number.isFinite(a.lat)&&Number.isFinite(a.lng)?a:a.toJSON()}let w=()=>c.default.createElement("div",{style:{position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"}},c.default.createElement("h2",null,"Error: AuthFailure"),c.default.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",c.default.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."));class x{static has(a){return this.entries[a]&&this.entries[a].length>0}static pop(a){return this.entries[a]&&this.entries[a].pop()||null}static push(a,b){this.entries[a]||(this.entries[a]=[]),this.entries[a].push(b)}}x.entries={};let y=c.default.createContext(null),z=a=>{let b,d,g,h,k,l,{children:n,id:z,className:A,style:B}=a,C=(0,c.useContext)(m),D=u();if(!C)throw Error("<Map> can only be used inside an <ApiProvider> component.");let[E,F,G]=function(a,b){let d,e,g=u()===i,[h,j]=(0,c.useState)(null),[k,l]=function(){let[a,b]=(0,c.useState)(null);return[a,(0,c.useCallback)(a=>b(a),[b])]}(),m=(d=function(){let[,a]=(0,c.useReducer)(a=>a+1,0);return a}(),e=(0,c.useRef)({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0}),(0,c.useEffect)(()=>{if(!h)return;let a=google.maps.event.addListener(h,"bounds_changed",()=>{let a,b,c,f,g;a=h.getCenter(),b=h.getZoom(),c=h.getHeading()||0,f=h.getTilt()||0,g=h.getBounds(),a&&g&&Number.isFinite(b)||console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(e.current,{center:(null==a?void 0:a.toJSON())||{lat:0,lng:0},zoom:b||0,heading:c,tilt:f}),d()});return()=>a.remove()},[h,d]),e),{id:n,defaultBounds:o,defaultCenter:p,defaultZoom:q,defaultHeading:r,defaultTilt:s,reuseMaps:t,renderingType:v,colorScheme:w}=a,y=f(a,["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps","renderingType","colorScheme"]),z=void 0!==a.zoom||void 0!==a.defaultZoom,A=void 0!==a.center||void 0!==a.defaultCenter;o||z&&A||console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!y.center&&p&&(y.center=p),!y.zoom&&Number.isFinite(q)&&(y.zoom=q),!y.heading&&Number.isFinite(r)&&(y.heading=r),!y.tilt&&Number.isFinite(s)&&(y.tilt=s);let B=y.internalUsageAttributionIds;for(let a of(null==B?y.internalUsageAttributionIds=b.internalUsageAttributionIds:y.internalUsageAttributionIds=[...b.internalUsageAttributionIds||[],...B],Object.keys(y)))void 0===y[a]&&delete y[a];let C=(0,c.useRef)(void 0);return(0,c.useEffect)(()=>{let c,d;if(!k||!g)return;let{addMapInstance:e,removeMapInstance:h}=b,{mapId:i}=a,l=`${i||"default"}:${v||"default"}:${w||"LIGHT"}`;if(t&&x.has(l)?(c=(d=x.pop(l)).getDiv(),k.appendChild(c),d.setOptions(y),setTimeout(()=>d.setCenter(d.getCenter()),0)):((c=document.createElement("div")).style.height="100%",k.appendChild(c),d=new google.maps.Map(c,Object.assign(Object.assign(Object.assign({},y),v?{renderingType:v}:{}),w?{colorScheme:w}:{}))),j(d),e(d,n),o){let{padding:a}=o,b=f(o,["padding"]);d.fitBounds(b,a)}else z&&A||d.fitBounds({east:180,west:-180,south:-90,north:90});if(C.current){let{mapId:a,cameraState:b}=C.current;a!==i&&d.setOptions(b)}return()=>{C.current={mapId:i,cameraState:m.current},c.remove(),t?x.push(l,d):google.maps.event.clearInstanceListeners(d),j(null),h(n)}},[k,g,n,a.mapId,a.renderingType,a.colorScheme]),[h,l,m]}(a,C);for(let e of(b=a.center?v(a.center):null,d=null,g=null,b&&Number.isFinite(b.lat)&&Number.isFinite(b.lng)&&(d=b.lat,g=b.lng),h=Number.isFinite(a.zoom)?a.zoom:null,k=Number.isFinite(a.heading)?a.heading:null,l=Number.isFinite(a.tilt)?a.tilt:null,(0,c.useLayoutEffect)(()=>{if(!E)return;let a={},b=!1;null!==d&&null!==g&&(G.current.center.lat!==d||G.current.center.lng!==g)&&(a.center={lat:d,lng:g},b=!0),null!==h&&G.current.zoom!==h&&(a.zoom=h,b=!0),null!==k&&G.current.heading!==k&&(a.heading=k,b=!0),null!==l&&G.current.tilt!==l&&(a.tilt=l,b=!0),b&&E.moveCamera(a)}),r)){let b=a[e],d=o[e];(0,c.useEffect)(()=>{if(!E||!b)return;let a=google.maps.event.addListener(E,d,a=>{b(function(a,b,c){var d;let e={type:a,map:b,detail:{},stoppable:!1,stop:()=>{}};if(p.includes(a)){let a=b.getCenter(),c=b.getZoom(),d=b.getHeading()||0,f=b.getTilt()||0,g=b.getBounds();return a&&g&&Number.isFinite(c)||console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),e.detail={center:(null==a?void 0:a.toJSON())||{lat:0,lng:0},zoom:c||0,heading:d,tilt:f,bounds:(null==g?void 0:g.toJSON())||{north:90,east:180,south:-90,west:-180}},e}if(q.includes(a)){if(!c)throw Error("[createEvent] mouse events must provide a srcEvent");return e.domEvent=c.domEvent,e.stoppable=!0,e.stop=()=>c.stop(),e.detail={latLng:(null==(d=c.latLng)?void 0:d.toJSON())||null,placeId:c.placeId},e}return e}(d,E,a))});return()=>a.remove()},[E,d,b])}!function(a,b){var d,f,g;let h={};for(let a of Object.keys(b))t.has(a)&&(h[a]=b[a]);d=()=>{a&&a.setOptions(h)},f=[h],g=e.default,(0,c.useEffect)(d,[s(f,g)])}(E,a);let H=function(a,b){let{viewport:d,viewState:e}=b;return(0,c.useLayoutEffect)(()=>{if(!a||!e)return;let{latitude:b,longitude:c,bearing:d,pitch:f,zoom:g}=e;a.moveCamera({center:{lat:b,lng:c},heading:d,tilt:f,zoom:g+1})},[a,e]),!!d}(E,a),I=!!a.controlled;(0,c.useEffect)(()=>{if(E)return H&&E.setOptions({disableDefaultUI:!0}),(H||I)&&E.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{E.setOptions({gestureHandling:a.gestureHandling,keyboardShortcuts:a.keyboardShortcuts})}},[E,H,I,a.gestureHandling,a.keyboardShortcuts]);let J=a.center?v(a.center):null,K=null,L=null;J&&Number.isFinite(J.lat)&&Number.isFinite(J.lng)&&(K=J.lat,L=J.lng);let M=(0,c.useMemo)(()=>{var b,c,d;return{center:{lat:null!=K?K:0,lng:null!=L?L:0},zoom:null!=(b=a.zoom)?b:0,heading:null!=(c=a.heading)?c:0,tilt:null!=(d=a.tilt)?d:0}},[K,L,a.zoom,a.heading,a.tilt]);(0,c.useLayoutEffect)(()=>{if(!E||!I)return;E.moveCamera(M);let a=E.addListener("bounds_changed",()=>{E.moveCamera(M)});return()=>a.remove()},[E,I,M]);let N=(0,c.useMemo)(()=>Object.assign({width:"100%",height:"100%",position:"relative",zIndex:H?-1:0},B),[B,H]),O=(0,c.useMemo)(()=>({map:E}),[E]);return D===j?c.default.createElement("div",{style:Object.assign({position:"relative"},A?{}:N),className:A},c.default.createElement(w,null)):c.default.createElement("div",Object.assign({ref:F,"data-testid":"map",style:A?void 0:N,className:A},z?{id:z}:{}),E?c.default.createElement(y.Provider,{value:O},n):null)};z.deckGLViewProps=!0;let A=new Set,B=(a=null)=>{let b=(0,c.useContext)(m),{map:d}=(0,c.useContext)(y)||{};if(null===b)return!function(...a){let b=JSON.stringify(a);A.has(b)||(A.add(b),console.error(...a))}("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;let{mapInstances:e}=b;return null!==a?e[a]||null:d||e.default||null};function C(a){let b=u()===i,d=(0,c.useContext)(m);return(0,c.useEffect)(()=>{b&&d&&d.importLibrary(a)},[b,d,a]),(null==d?void 0:d.loadedLibraries[a])||null}function D(a,b,d){(0,c.useEffect)(()=>{if(!a||!b||!d)return;let c=google.maps.event.addListener(a,b,d);return()=>c.remove()},[a,b,d])}function E(a,b,d){(0,c.useEffect)(()=>{a&&(a[b]=d)},[a,b,d])}function F(a,b,d){(0,c.useEffect)(()=>{if(a&&b&&d)return a.addEventListener(b,d),()=>a.removeEventListener(b,d)},[a,b,d])}let G=new class{constructor(){this.renderedStyles=new Set,this.styleElement=null}getStyleElement(){return this.styleElement||(this.styleElement=document.createElement("style"),this.styleElement.setAttribute("data-rgm-anchor-styles",""),document.head.appendChild(this.styleElement)),this.styleElement}addAdvancedMarkerPointerEventsOverwrite(){if(this.renderedStyles.has("marker-pointer-events"))return;let a=this.getStyleElement();a.textContent+=`
      gmp-advanced-marker[data-origin='rgm'] {
        pointer-events: none !important;
      }
    `,this.renderedStyles.add("marker-pointer-events")}cleanup(){this.styleElement&&(this.styleElement.remove(),this.styleElement=null,this.renderedStyles.clear())}},H=c.default.createContext(null),I=["50%","100%"],J=(0,c.forwardRef)((a,b)=>{let{children:e,style:f,className:g,anchorPoint:h}=a,[i,j]=function(a){var b,d,e,f,g;let[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(null),l=B(),m=C("marker"),{children:n,onClick:o,className:p,onMouseEnter:q,onMouseLeave:r,onDrag:s,onDragStart:t,onDragEnd:u,collisionBehavior:v,clickable:w,draggable:x,position:y,title:z,zIndex:A,anchorPoint:H,anchorLeft:J,anchorTop:L}=a,M=c.Children.count(n);return(0,c.useEffect)(()=>{if(!l||!m)return;let a=new m.AdvancedMarkerElement;a.map=l,i(a);let b=null;return M>0&&(a.content=b=document.createElement("div"),k(b)),()=>{a.map=null,null==b||b.remove(),i(null),k(null)}},[l,m,M]),(0,c.useEffect)(()=>{(null==h?void 0:h.content)&&K(h.content)&&!(M>0)&&(h.content.className=null!=p?p:"")},[h,p,M]),b=h,d=H,e=J,f=L,g=M>0,(0,c.useEffect)(()=>{if(!b||!g)return;let a=function(a,b){var c;if(!(null==(c=null==google?void 0:google.maps)?void 0:c.version))return;let d=google.maps.version.split("."),e=parseInt(d[0],10),f=parseInt(d[1],10);return e>3||3===e&&f>=62}(0,0),c=b.content;if(c&&K(c)){if(void 0!==e||void 0!==f){a||console.warn(`AdvancedMarker: The anchorLeft and anchorTop props are only supported in Google Maps API version 3.62 and above. The current version is ${google.maps.version}.`),b.anchorLeft=e,b.anchorTop=f,void 0!==d&&console.warn("AdvancedMarker: the anchorPoint prop is ignored when anchorLeft and/or anchorTop are set.");return}if(void 0!==d){let[e,f]=null!=d?d:I,g=`calc(-1 * ${e})`,h=`calc(-1 * ${f})`;a?(b.anchorLeft=g,b.anchorTop=h,c.style.transform=""):(c.style.transform=`translate(50%, 100%) translate(${g}, ${h})`,b.dataset.origin="rgm",G.addAdvancedMarkerPointerEventsOverwrite())}}},[b,d,e,f,g]),E(h,"position",y),E(h,"title",null!=z?z:""),E(h,"zIndex",A),E(h,"collisionBehavior",v),(0,c.useEffect)(()=>{h&&(void 0!==x?h.gmpDraggable=x:s||t||u?h.gmpDraggable=!0:h.gmpDraggable=!1)},[h,x,s,u,t]),(0,c.useEffect)(()=>{if(!h)return;let a=void 0!==w||!!o||!!q||!!r;h.gmpClickable=a,a&&(null==h?void 0:h.content)&&K(h.content)&&(h.content.style.pointerEvents="all",o&&(h.content.style.cursor="pointer"))},[h,w,o,q,r]),D(h,"click",o),D(h,"drag",s),D(h,"dragstart",t),D(h,"dragend",u),F(null==h?void 0:h.element,"mouseenter",q),F(null==h?void 0:h.element,"mouseleave",r),[h,j]}(a),k=(0,c.useMemo)(()=>i?{marker:i}:null,[i]);return((0,c.useImperativeHandle)(b,()=>i,[i]),j)?c.default.createElement(H.Provider,{value:k},(0,d.createPortal)(c.default.createElement(L,{anchorPoint:h,styles:f,className:g},e),j)):null});function K(a){return a.nodeType===Node.ELEMENT_NODE}J.displayName="AdvancedMarker";let L=({children:a,styles:b,className:d})=>c.default.createElement("div",{className:d,style:b},a);function M(a,b,c){var d;let e=0===b.indexOf("--");null==c||"boolean"==typeof c||""===c?e?a.setProperty(b,""):"float"===b?a.cssFloat="":a[b]="":e?a.setProperty(b,c):"number"!=typeof c||0===c||(d=b,N.has(d))?"float"===b?a.cssFloat=c:a[b]=(""+c).trim():a[b]=c+"px"}let N=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"]),O=a=>{let{children:b,headerContent:g,style:h,className:i,pixelOffset:j,anchor:k,shouldFocus:l,onClose:m,onCloseClick:n}=a,o=f(a,["children","headerContent","style","className","pixelOffset","anchor","shouldFocus","onClose","onCloseClick"]),p=C("maps"),[q,r]=(0,c.useState)(null),t=(0,c.useRef)(null),u=(0,c.useRef)(null),v=s(o,e.default);(0,c.useEffect)(()=>{if(!p)return;t.current=document.createElement("div"),u.current=document.createElement("div"),j&&(v.pixelOffset=new google.maps.Size(j[0],j[1])),g&&(v.headerContent="string"==typeof g?g:u.current);let a=new google.maps.InfoWindow(v);return a.setContent(t.current),r(a),()=>{var b,c;a.setContent(null),null==(b=t.current)||b.remove(),null==(c=u.current)||c.remove(),t.current=null,u.current=null,r(null)}},[p]);let w=(0,c.useRef)(null);(0,c.useEffect)(()=>{q&&t.current&&(!function(a,b,c){if(null!=b&&"object"!=typeof b)throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");let d=a.style;if(null==c){if(null==b)return;for(let a in b)b.hasOwnProperty(a)&&M(d,a,b[a]);return}for(let a in c)c.hasOwnProperty(a)&&(null==b||!b.hasOwnProperty(a))&&(0===a.indexOf("--")?d.setProperty(a,""):"float"===a?d.cssFloat="":d[a]="");if(null!=b)for(let a in b){let e=b[a];b.hasOwnProperty(a)&&c[a]!==e&&M(d,a,e)}}(t.current,h||null,w.current),w.current=h||null,i!==t.current.className&&(t.current.className=i||""))},[q,i,h]),(0,c.useEffect)(()=>{q&&(j?v.pixelOffset=new google.maps.Size(j[0],j[1]):v.pixelOffset=null,g?v.headerContent="string"==typeof g?g:u.current:v.headerContent=null,q.setOptions(v))},[v,j,g]),D(q,"close",m),D(q,"closeclick",n);let x=B();return(0,c.useEffect)(()=>{var a;if(!x||!q||null===k)return;let b=!!k,c={map:x};if(k&&(c.anchor=k,void 0!==k.content&&k.content instanceof Element)){let b=null==k?void 0:k.getBoundingClientRect();if(b&&"rgm"===k.dataset.origin){let c=null==(a=k.content.firstElementChild)?void 0:a.firstElementChild,d=null==c?void 0:c.getBoundingClientRect(),e=d.x-b.x+(d.width-b.width)/2,f=d.y-b.y;v.pixelOffset=new google.maps.Size(j?j[0]+e:e,j?j[1]+f:f),q.setOptions(v)}}return void 0!==l&&(c.shouldFocus=l),q.open(c),()=>{b&&q.set("anchor",null),q.close()}},[q,k,x,l,v,j]),c.default.createElement(c.default.Fragment,null,t.current&&(0,d.createPortal)(b,t.current),null!==u.current&&(0,d.createPortal)(g,u.current))};(0,c.forwardRef)((a,b)=>{let d=function(a){let[b,d]=(0,c.useState)(null),e=B(),{onClick:g,onDrag:h,onDragStart:i,onDragEnd:j,onMouseOver:k,onMouseOut:l}=a,m=f(a,["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"]),{position:n,draggable:o}=m;return(0,c.useEffect)(()=>{if(!e){void 0===e&&console.error("<Marker> has to be inside a Map component.");return}let a=new google.maps.Marker(m);return a.setMap(e),d(a),()=>{a.setMap(null),d(null)}},[e]),(0,c.useEffect)(()=>{if(!b)return;let a=google.maps.event;return g&&a.addListener(b,"click",g),h&&a.addListener(b,"drag",h),i&&a.addListener(b,"dragstart",i),j&&a.addListener(b,"dragend",j),k&&a.addListener(b,"mouseover",k),l&&a.addListener(b,"mouseout",l),b.setDraggable(!!o),()=>{a.clearInstanceListeners(b)}},[b,o,g,h,i,j,k,l]),(0,c.useEffect)(()=>{b&&b.setOptions(m)},[b,m]),(0,c.useEffect)(()=>{!o&&n&&b&&b.setPosition(n)},[o,n,b]),b}(a);return(0,c.useImperativeHandle)(b,()=>d,[d]),c.default.createElement(c.default.Fragment,null)}).displayName="Marker";var P=a.i(62036),Q=a.i(46271);function R({value:a,onChange:c,onMyLocation:d,isLocating:e}){return(0,b.jsxs)("div",{className:"rs-search-bar",children:[(0,b.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"#8e8e93",strokeWidth:"2.5",strokeLinecap:"round",children:[(0,b.jsx)("circle",{cx:"11",cy:"11",r:"7"}),(0,b.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),(0,b.jsx)("input",{className:"rs-search-bar__input",type:"text",placeholder:"what're you looking for?",value:a,onChange:a=>c(a.target.value)}),a&&(0,b.jsx)("button",{className:"rs-search-bar__btn",onClick:()=>c(""),"aria-label":"Clear search",children:(0,b.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",children:[(0,b.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,b.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),(0,b.jsx)("button",{className:`rs-search-bar__btn ${e?"rs-search-bar__btn--active":""}`,onClick:d,"aria-label":"Use my location",children:(0,b.jsx)("img",{src:"/map.png",alt:"Use my location",width:20,height:20})})]})}let S={lat:13.7563,lng:100.5018},T=[{id:"all",label:"All",icon:"ðŸ½ï¸",type:""},{id:"restaurant",label:"Restaurants",icon:"ðŸ´",type:"restaurant"},{id:"cafe",label:"Cafes",icon:"â˜•",type:"cafe"},{id:"bar",label:"Bars",icon:"ðŸ¸",type:"bar"},{id:"bakery",label:"Bakeries",icon:"ðŸ¥",type:"bakery"},{id:"meal_delivery",label:"Delivery",icon:"ðŸ›µ",type:"meal_delivery"},{id:"meal_takeaway",label:"Takeaway",icon:"ðŸ¥¡",type:"meal_takeaway"}];function U({activeFilter:a,onFilterChange:c}){return(0,b.jsx)("div",{className:"rs-filter-chips",children:T.map(d=>{let e=d.id===a;return(0,b.jsxs)(Q.motion.button,{className:`rs-chip rs-chip--${d.id} ${e?"rs-chip--active":""}`,onClick:()=>c(d.id,d.type),whileTap:{scale:.93},layout:!0,children:[(0,b.jsx)("span",{children:d.icon}),(0,b.jsx)("span",{children:d.label})]},d.id)})})}function V({center:a,zoom:d,results:e,selectedPlace:f,userLocation:g,onMarkerClick:h,onCameraChange:i}){let j=(0,c.useCallback)(a=>{let{center:b,zoom:c}=a.detail;i({lat:b.lat,lng:b.lng},c)},[i]);return(0,b.jsxs)(z,{mapId:"DEMO_MAP_ID",defaultCenter:a,defaultZoom:d,center:a,zoom:d,onCameraChanged:j,gestureHandling:"greedy",disableDefaultUI:!1,zoomControl:!0,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,style:{width:"100%",height:"100%"},children:[g&&(0,b.jsx)(J,{position:g,children:(0,b.jsx)("div",{className:"rs-user-marker"})}),e.map(a=>(0,b.jsx)(W,{place:a,isSelected:f?.placeId===a.placeId,onClick:h},a.placeId))]})}function W({place:a,isSelected:d,onClick:e}){let[f,g]=function(){let[a,b]=(0,c.useState)(null);return[(0,c.useCallback)(a=>{b(a)},[]),a]}(),h=a.photos?.[0]?`/api/places/photo?ref=${a.photos[0].photoReference}&maxWidth=100`:null;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(J,{ref:f,position:a.location,onClick:()=>e(a),title:a.name,zIndex:d?100:void 0,children:(0,b.jsx)("div",{className:`rs-marker-pin ${d?"rs-marker-pin--active":""} ${h?"rs-marker-pin--image":""}`,children:h?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("img",{src:h,alt:a.name,className:"rs-marker-pin__image"}),a.rating&&(0,b.jsx)("div",{className:"rs-marker-pin__badge",children:a.rating.toFixed(1)})]}):a.rating?a.rating.toFixed(1):"?"})}),d&&g&&(0,b.jsx)(O,{anchor:g,maxWidth:220,children:(0,b.jsxs)("div",{style:{padding:4},children:[(0,b.jsx)("strong",{style:{fontSize:14},children:a.name}),(0,b.jsx)("p",{style:{fontSize:12,color:"#6b7280",margin:"4px 0 0"},children:a.address})]})})]})}function X({place:a,isSelected:c,onClick:d}){let e=a.photos.length>0?`/api/places/photo?ref=${a.photos[0].photoReference}&maxWidth=400`:null;return(0,b.jsxs)(Q.motion.button,{onClick:d,className:`rs-card ${c?"rs-card--selected":""}`,whileHover:{y:-2},whileTap:{scale:.98},children:[(0,b.jsxs)("div",{className:"rs-card__image",children:[e?(0,b.jsx)("img",{src:e,alt:a.name,loading:"lazy"}):(0,b.jsx)("div",{className:"rs-card__image-placeholder",children:"ðŸ½ï¸"}),null!==a.openNow&&(0,b.jsx)("span",{className:`rs-card__status ${a.openNow?"rs-card__status--open":"rs-card__status--closed"}`,children:a.openNow?"Open":"Closed"})]}),(0,b.jsxs)("div",{className:"rs-card__info",children:[(0,b.jsx)("h3",{className:"rs-card__name",children:a.name}),(0,b.jsxs)("div",{className:"rs-card__meta",children:[null!==a.rating&&(0,b.jsxs)("span",{className:"rs-card__rating",children:[(0,b.jsx)(Y,{})," ",a.rating.toFixed(1),(0,b.jsxs)("span",{className:"rs-card__reviews",children:["(",a.userRatingsTotal,")"]})]}),null!==a.priceLevel&&(0,b.jsx)("span",{className:"rs-card__price",children:"$".repeat(a.priceLevel+1)})]}),(0,b.jsx)("p",{className:"rs-card__address",children:a.address}),(0,b.jsx)("div",{className:"rs-card__types",children:a.types.filter(a=>!["point_of_interest","establishment","food"].includes(a)).slice(0,2).map(a=>(0,b.jsx)("span",{className:"rs-card__type-tag",children:a.replace(/_/g," ")},a))})]})]})}function Y(){return(0,b.jsx)("svg",{viewBox:"0 0 20 20",width:"13",height:"13",fill:"#f59e0b",style:{flexShrink:0},children:(0,b.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})}function Z({results:a,isLoading:c,onCardClick:d,selectedPlaceId:e,hasMore:f,onLoadMore:g}){return(0,b.jsxs)("div",{children:[a.length>0&&(0,b.jsxs)("p",{className:"rs-list__count",children:[a.length," restaurant",1!==a.length?"s":""," found"]}),(0,b.jsx)("div",{className:"rs-list__grid",children:a.map((a,c)=>(0,b.jsx)(Q.motion.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:Math.min(.04*c,.8),duration:.3},children:(0,b.jsx)(X,{place:a,isSelected:a.placeId===e,onClick:()=>d(a)})},a.placeId))}),c&&(0,b.jsx)($,{}),f&&!c&&(0,b.jsx)("button",{onClick:g,className:"rs-list__load-more",children:"Load More"}),!c&&0===a.length&&(0,b.jsxs)("div",{className:"rs-empty",children:[(0,b.jsx)("span",{children:"ðŸ½ï¸"}),(0,b.jsx)("p",{children:"Search for restaurants by name or area to get started."})]})]})}function $(){return(0,b.jsx)("div",{className:"rs-list__grid",style:{marginTop:12},children:[0,1,2].map(a=>(0,b.jsxs)("div",{className:"rs-card rs-card--skeleton",children:[(0,b.jsx)("div",{className:"rs-card__image-skeleton",style:{animation:"pulse 1.5s ease-in-out infinite"}}),(0,b.jsxs)("div",{className:"rs-card__body-skeleton",children:[(0,b.jsx)("div",{style:{height:14,background:"#e5e7eb",borderRadius:6,width:"75%",animation:"pulse 1.5s ease-in-out infinite"}}),(0,b.jsx)("div",{style:{height:10,background:"#e5e7eb",borderRadius:6,width:"50%",marginTop:8,animation:"pulse 1.5s ease-in-out infinite"}}),(0,b.jsx)("div",{style:{height:10,background:"#e5e7eb",borderRadius:6,width:"60%",marginTop:6,animation:"pulse 1.5s ease-in-out infinite"}})]})]},a))})}function _(a){return Math.PI/180*a}function aa({place:a,details:c,userLocation:d,onClose:e}){var f;let g,h,i;if(!a)return null;let j=c?.photos??a.photos,k=a.types.filter(a=>!["point_of_interest","establishment","food"].includes(a)).slice(0,1).map(a=>a.replace(/_/g," ")).join(""),l=d?(g=_((f=a.location).lat-d.lat),h=_(f.lng-d.lng),6371*(2*Math.atan2(Math.sqrt(i=Math.sin(g/2)*Math.sin(g/2)+Math.cos(_(d.lat))*Math.cos(_(f.lat))*Math.sin(h/2)*Math.sin(h/2)),Math.sqrt(1-i)))).toFixed(1)+" km":null;return(0,b.jsxs)(Q.motion.div,{className:"rs-detail-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,b.jsx)(Q.motion.div,{className:"rs-detail-backdrop",onClick:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}),(0,b.jsxs)(Q.motion.div,{className:"rs-detail-panel",initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300},children:[(0,b.jsx)("div",{className:"rs-detail__handle",onClick:e,children:(0,b.jsx)("div",{className:"rs-detail__handle-bar"})}),(0,b.jsx)("div",{className:"rs-detail__photos",children:j.length>0?j.map((c,d)=>(0,b.jsx)("img",{src:`/api/places/photo?ref=${c.photoReference}&maxWidth=600`,alt:`${a.name} photo ${d+1}`,className:"rs-detail__photo",loading:0===d?"eager":"lazy"},d)):(0,b.jsx)("div",{className:"rs-detail__photo-placeholder",children:"ðŸ½ï¸"})}),(0,b.jsxs)("div",{className:"rs-detail__header",children:[(0,b.jsx)("h2",{children:a.name}),k&&(0,b.jsxs)("p",{className:"rs-detail__category",children:[k," Â· ",a.address.split(",")[0]]}),(0,b.jsxs)("div",{className:"rs-detail__meta",children:[null!==a.rating&&(0,b.jsxs)("span",{className:"rs-detail__meta-rating",children:[(0,b.jsx)(ad,{})," ",a.rating.toFixed(1),(0,b.jsxs)("span",{style:{color:"#8e8e93",fontWeight:400},children:["(",a.userRatingsTotal,")"]})]}),null!==a.priceLevel&&(0,b.jsx)("span",{children:"$".repeat(a.priceLevel+1)}),null!==a.openNow&&(0,b.jsx)("span",{className:a.openNow?"rs-detail__meta-open":"rs-detail__meta-closed",children:a.openNow?"Open Now":"Closed"}),l&&(0,b.jsxs)("span",{style:{marginLeft:4},children:["ðŸ“ ",l]})]})]}),(0,b.jsxs)("div",{className:"rs-detail__actions",children:[(0,b.jsxs)("button",{className:"rs-detail__action-btn",children:[(0,b.jsx)("div",{className:"rs-detail__action-icon rs-detail__action-icon--primary",children:(0,b.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,b.jsx)("polygon",{points:"3 11 22 2 13 21 11 13 3 11"})})}),(0,b.jsx)("span",{className:"rs-detail__action-label",children:"Directions"})]}),c?.formattedPhone&&(0,b.jsx)("a",{href:`tel:${c.formattedPhone}`,style:{textDecoration:"none"},children:(0,b.jsxs)("button",{className:"rs-detail__action-btn",children:[(0,b.jsx)("div",{className:"rs-detail__action-icon rs-detail__action-icon--secondary",children:(0,b.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#007aff",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,b.jsx)("path",{d:"M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72c.127.96.361 1.903.7 2.81a2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0122 16.92z"})})}),(0,b.jsx)("span",{className:"rs-detail__action-label",children:"Call"})]})}),c?.website&&(0,b.jsx)("a",{href:c.website,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,b.jsxs)("button",{className:"rs-detail__action-btn",children:[(0,b.jsx)("div",{className:"rs-detail__action-icon rs-detail__action-icon--secondary",children:(0,b.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#007aff",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,b.jsx)("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),(0,b.jsx)("path",{d:"M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"})]})}),(0,b.jsx)("span",{className:"rs-detail__action-label",children:"Website"})]})}),(0,b.jsxs)("button",{className:"rs-detail__action-btn",children:[(0,b.jsx)("div",{className:"rs-detail__action-icon rs-detail__action-icon--secondary",children:(0,b.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#007aff",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"M4 12v8a2 2 0 002 2h12a2 2 0 002-2v-8"}),(0,b.jsx)("polyline",{points:"16 6 12 2 8 6"}),(0,b.jsx)("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]})}),(0,b.jsx)("span",{className:"rs-detail__action-label",children:"Share"})]})]}),(0,b.jsxs)("div",{className:"rs-detail__info-grid",style:{gridTemplateColumns:l?"repeat(4, 1fr)":"repeat(3, 1fr)"},children:[(0,b.jsxs)("div",{className:"rs-detail__info-cell",children:[(0,b.jsx)("div",{className:"rs-detail__info-cell-label",children:"Hours"}),(0,b.jsx)("div",{className:`rs-detail__info-cell-value ${!1===a.openNow?"rs-detail__info-cell-value--red":a.openNow?"rs-detail__info-cell-value--green":""}`,children:null===a.openNow?"â€”":a.openNow?"Open":"Closed"})]}),(0,b.jsxs)("div",{className:"rs-detail__info-cell",children:[(0,b.jsx)("div",{className:"rs-detail__info-cell-label",children:"Rating"}),(0,b.jsx)("div",{className:"rs-detail__info-cell-value",children:null!==a.rating?a.rating.toFixed(1):"â€”"})]}),(0,b.jsxs)("div",{className:"rs-detail__info-cell",children:[(0,b.jsx)("div",{className:"rs-detail__info-cell-label",children:"Reviews"}),(0,b.jsx)("div",{className:"rs-detail__info-cell-value",children:a.userRatingsTotal>0?a.userRatingsTotal.toLocaleString():"â€”"})]}),l&&(0,b.jsxs)("div",{className:"rs-detail__info-cell",children:[(0,b.jsx)("div",{className:"rs-detail__info-cell-label",children:"Distance"}),(0,b.jsx)("div",{className:"rs-detail__info-cell-value",children:l})]})]}),!c&&(0,b.jsx)("div",{className:"rs-detail__loading",children:(0,b.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[80,60,70,50].map((a,c)=>(0,b.jsx)("div",{style:{height:12,background:"#e5e7eb",borderRadius:6,width:`${a}%`,animation:"pulse 1.5s ease-in-out infinite"}},c))})}),c&&(0,b.jsxs)(b.Fragment,{children:[c.editorialSummary&&(0,b.jsx)("p",{className:"rs-detail__summary",children:c.editorialSummary}),(0,b.jsxs)("div",{className:"rs-detail__section",children:[(0,b.jsx)("h3",{children:"Info"}),(0,b.jsx)(ab,{icon:"ðŸ“",value:c.formattedAddress}),c.formattedPhone&&(0,b.jsx)(ab,{icon:"ðŸ“ž",value:c.formattedPhone,href:`tel:${c.formattedPhone}`}),c.website&&(0,b.jsx)(ab,{icon:"ðŸŒ",value:"Visit website",href:c.website})]}),c.weekdayText.length>0&&(0,b.jsxs)("div",{className:"rs-detail__section",children:[(0,b.jsx)("h3",{children:"Opening Hours"}),(0,b.jsx)("ul",{className:"rs-detail__hours-list",children:c.weekdayText.map((a,c)=>(0,b.jsx)("li",{children:a},c))})]}),c.reviews.length>0&&(0,b.jsxs)("div",{className:"rs-detail__section",children:[(0,b.jsx)("h3",{children:"Ratings & Reviews"}),c.reviews.map((a,c)=>(0,b.jsx)(ac,{review:a},c))]})]})]})]})}function ab({icon:a,value:c,href:d}){return(0,b.jsxs)("div",{className:"rs-detail__info-row",children:[(0,b.jsx)("span",{children:a}),d?(0,b.jsx)("a",{href:d,target:"_blank",rel:"noopener noreferrer",children:c}):(0,b.jsx)("span",{children:c})]})}function ac({review:a}){return(0,b.jsxs)("div",{className:"rs-detail__review",children:[(0,b.jsxs)("div",{className:"rs-detail__review-header",children:[a.authorPhotoUrl?(0,b.jsx)("img",{src:a.authorPhotoUrl,alt:a.authorName,className:"rs-detail__review-avatar",referrerPolicy:"no-referrer",loading:"lazy"}):(0,b.jsx)("div",{className:"rs-detail__review-avatar",style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,color:"#8e8e93",background:"#f2f2f7"},children:"ðŸ‘¤"}),(0,b.jsx)("span",{className:"rs-detail__review-author",children:a.authorName}),(0,b.jsx)("span",{className:"rs-detail__review-time",children:a.relativeTime})]}),(0,b.jsxs)("div",{className:"rs-detail__review-stars",children:["â˜…".repeat(a.rating),"â˜†".repeat(5-a.rating)]}),a.text&&(0,b.jsx)("p",{className:"rs-detail__review-text",children:a.text})]})}function ad(){return(0,b.jsx)("svg",{viewBox:"0 0 20 20",width:"15",height:"15",fill:"#ff9500",style:{flexShrink:0},children:(0,b.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})}function ae({onSuggestionClick:a,onInputClick:c,onMyLocationClick:d,onPlaceClick:e,places:f}){let g=f.slice(0,2),h=f.slice(0,4),i=new Set(h.map(a=>a.placeId)),j=f.filter(a=>!i.has(a.placeId));return(0,b.jsxs)("div",{className:"rs-discovery",children:[(0,b.jsxs)(Q.motion.div,{className:"rs-vibe-search",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[(0,b.jsx)("h2",{className:"rs-vibe-search__title",children:"Restaurant search"}),(0,b.jsx)("p",{className:"rs-vibe-search__subtitle",children:"ai powered search"}),(0,b.jsxs)("div",{style:{display:"flex",gap:"10px",marginBottom:"14px"},children:[(0,b.jsxs)("div",{className:"rs-vibe-search__input",onClick:c,style:{cursor:"pointer",marginBottom:0,flex:1},children:[(0,b.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"rgba(255,255,255,0.4)",strokeWidth:"2.5",strokeLinecap:"round",children:[(0,b.jsx)("circle",{cx:"11",cy:"11",r:"7"}),(0,b.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),(0,b.jsx)("span",{children:"what're you looking for?"})]}),(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),d?.()},style:{width:"44px",height:"44px",borderRadius:"12px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.15)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",flexShrink:0},"aria-label":"Use my location",children:(0,b.jsx)("img",{src:"/map.png",alt:"Use my location",width:24,height:24})})]}),g.length>0&&(0,b.jsx)("div",{className:"rs-suggestions flex-col items-stretch",children:g.map((c,d)=>(0,b.jsxs)(Q.motion.button,{className:"rs-suggestion-chip w-full justify-between",onClick:()=>a(c.name),initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2+.06*d},whileTap:{scale:.95},style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",textAlign:"left"},children:[(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",children:[(0,b.jsx)("polyline",{points:"15 3 21 3 21 9"}),(0,b.jsx)("line",{x1:"21",y1:"3",x2:"14",y2:"10"})]}),(0,b.jsx)("span",{className:"font-semibold text-sm",children:c.name})]}),(0,b.jsxs)("div",{className:"text-[11px] text-zinc-400 pl-5 flex items-center gap-2",children:[c.rating&&(0,b.jsxs)("span",{className:"flex items-center gap-1 text-yellow-500",children:["â˜… ",c.rating.toFixed(1)]}),(0,b.jsxs)("span",{className:"text-zinc-500",children:["(",c.userRatingsTotal||0,")",c.priceLevel?` â€¢ ${"$".repeat(c.priceLevel)}`:""]})]})]}),(0,b.jsx)("div",{className:"text-[10px] text-zinc-500 bg-zinc-800/50 px-2 py-1 rounded-md",children:"Open"})]},c.placeId))})]}),h.length>0&&(0,b.jsxs)(Q.motion.div,{className:"rs-discovery__section",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15,duration:.4},children:[(0,b.jsx)("div",{className:"rs-discovery__section-header",children:(0,b.jsx)("div",{children:(0,b.jsx)("h3",{className:"rs-discovery__section-title",children:"curations for you"})})}),(0,b.jsx)("div",{className:"rs-curated-scroll",children:h.map((a,c)=>{let d=a.photos?.[0]?`/api/places/photo?ref=${a.photos[0].photoReference}&maxWidth=400`:null;return(0,b.jsxs)(Q.motion.div,{className:"rs-curated-card",onClick:()=>e?.(a),initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.25+.08*c},whileTap:{scale:.97},children:[d?(0,b.jsx)("img",{src:d,alt:a.name,loading:"lazy"}):(0,b.jsx)("div",{className:"rs-curated-card__placeholder",children:"ðŸ½ï¸"}),(0,b.jsx)("div",{className:"rs-curated-card__overlay",children:(0,b.jsx)("span",{className:"rs-curated-card__label",children:a.name})})]},a.placeId)})})]}),j.length>0&&(0,b.jsxs)(Q.motion.div,{className:"rs-discovery__section",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.4},children:[(0,b.jsxs)("div",{className:"rs-discovery__section-header",children:[(0,b.jsx)("h3",{className:"rs-discovery__section-title",children:"places for you"}),(0,b.jsx)("button",{className:"rs-discovery__see-all",children:"See all"})]}),j.map((a,c)=>{let d=a.photos?.[0]?`/api/places/photo?ref=${a.photos[0].photoReference}&maxWidth=400`:null;return(0,b.jsxs)(Q.motion.div,{className:"rs-place-card",onClick:()=>e?.(a),initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.35+.06*c},whileTap:{scale:.98},children:[(0,b.jsx)("div",{className:"rs-place-card__image",children:d?(0,b.jsx)("img",{src:d,alt:a.name,loading:"lazy"}):(0,b.jsx)("div",{className:"rs-card__image-placeholder",children:"ðŸ½ï¸"})}),(0,b.jsxs)("div",{className:"rs-place-card__info",children:[(0,b.jsx)("h4",{className:"rs-place-card__name",children:a.name}),(0,b.jsx)("p",{className:"rs-place-card__category",children:a.address.split(",")[0]}),(0,b.jsxs)("div",{className:"rs-place-card__meta",children:[a.rating&&(0,b.jsxs)("span",{className:"rs-place-card__rating",children:[(0,b.jsx)("svg",{viewBox:"0 0 20 20",width:"12",height:"12",fill:"#ff9500",style:{flexShrink:0},children:(0,b.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),a.rating.toFixed(1)]}),a.priceLevel&&(0,b.jsx)("span",{className:"rs-place-card__price",children:"$".repeat(a.priceLevel)}),null!==a.openNow&&(0,b.jsx)("span",{style:{color:a.openNow?"#34c759":"#ff3b30",fontWeight:600,fontSize:"11px"},children:a.openNow?"Open":"Closed"})]})]})]},a.placeId)})]})]})}function af({apiKey:a}){let[d,e]=(0,c.useState)("discovery"),[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)("all"),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(!1),[o,p]=(0,c.useState)(S),[q,r]=(0,c.useState)(14),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)(null),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(null),[E,F]=(0,c.useState)([]),G=(0,c.useRef)(null),H=(0,c.useRef)(null),I=(0,c.useRef)(!1);(0,c.useRef)(null),(0,c.useEffect)(()=>{I.current||(I.current=!0,(async()=>{try{let a=await fetch("/api/places/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"popular restaurants",location:S,radius:5e3})}),b=await a.json();b.results&&F(b.results.slice(0,12))}catch(a){console.error("Discovery fetch failed:",a)}})())},[]);let J=(0,c.useCallback)(async(a,b,c,d)=>{H.current?.abort();let e=new AbortController;H.current=e,m(!0);try{let f=await fetch("/api/places/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:a||"restaurant",location:b,radius:5e3,type:c||void 0,pageToken:d}),signal:e.signal}),g=await f.json();("REQUEST_DENIED"===g.status||"OVER_QUERY_LIMIT"===g.status)&&console.error("API Error:",g.error),d?k(a=>[...a,...g.results||[]]):k(g.results||[]),D(g.nextPageToken),!d&&g.results?.length>0&&!b&&p(g.results[0].location)}catch(a){"AbortError"!==a.name&&console.error("Search failed:",a)}finally{m(!1)}},[]),K=(0,c.useCallback)(a=>{e("search"),void 0!==a&&g(a)},[]),L=(0,c.useCallback)(a=>{if(g(a),G.current&&clearTimeout(G.current),!a.trim()){"search"===d&&j.length,k([]),D(null);return}"discovery"===d&&e("search"),G.current=setTimeout(()=>{a.trim().length>=2&&J(a,y||o,"all"===h?"":h)},500)},[J,y,o,h,d,j.length]),M=(0,c.useCallback)((a,b)=>{i(a),(f.trim().length>=2||y)&&J(f||"restaurant",y||o,b)},[J,f,y,o]),N=(0,c.useCallback)(async a=>{t(a),x(!0),v(null),p(a.location);try{let b=await fetch(`/api/places/details?placeId=${a.placeId}`),c=await b.json();c.error||v(c)}catch(a){console.error("Failed to fetch details:",a)}},[]),O=(0,c.useCallback)(()=>{x(!1),t(null),v(null)},[]),T=(0,c.useCallback)(()=>{navigator.geolocation&&(B(!0),"discovery"===d&&K(),navigator.geolocation.getCurrentPosition(a=>{let b={lat:a.coords.latitude,lng:a.coords.longitude};z(b),p(b),r(15),B(!1),J(f||"restaurant",b,"all"===h?"":h)},a=>{console.error("Geolocation error:",a),B(!1)},{enableHighAccuracy:!0,timeout:1e4}))},[J,f,h,d,K]),W=(0,c.useCallback)(()=>{C&&J(f,y||o,"all"===h?"":h,C)},[C,J,f,y,o,h]),X=(0,c.useCallback)((a,b)=>{p(a),r(b)},[]),Y=(0,c.useCallback)(a=>{K(a),J(a,y||o,"all"===h?"":h)},[K,J,y,o,h]),$=(0,c.useCallback)(()=>{K(),setTimeout(()=>{let a=document.querySelector(".rs-search-bar__input");a&&a.focus()},100)},[K]);return(0,b.jsx)(n,{apiKey:a,libraries:["places","marker"],children:(0,b.jsxs)("div",{className:"rs-page",children:[(0,b.jsxs)("div",{className:"rs-status-bar",children:[(0,b.jsx)("span",{children:"9:41"}),(0,b.jsx)("div",{className:"rs-status-bar__icons",children:(0,b.jsxs)("span",{className:"rs-battery-icon","aria-hidden":"true",children:[(0,b.jsx)("span",{className:"rs-battery-icon__level"}),(0,b.jsx)("span",{className:"rs-battery-icon__cap"})]})})]}),(0,b.jsx)(P.AnimatePresence,{children:"search"===d&&(0,b.jsxs)(Q.motion.header,{className:"rs-header",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[(0,b.jsx)(R,{value:f,onChange:L,onMyLocation:T,isLocating:A}),(0,b.jsx)(U,{activeFilter:h,onFilterChange:M})]})}),(0,b.jsx)("div",{className:"rs-body",children:"discovery"===d?(0,b.jsx)(ae,{onSuggestionClick:Y,onInputClick:$,onMyLocationClick:T,onPlaceClick:N,places:E}):(0,b.jsxs)(Q.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},style:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,b.jsx)("div",{className:"rs-map-container",children:(0,b.jsx)(V,{center:o,zoom:q,results:j,selectedPlace:s,userLocation:y,onMarkerClick:N,onCameraChange:X})}),(0,b.jsx)("div",{className:"rs-list-container",children:(0,b.jsx)(Z,{results:j,isLoading:l,onCardClick:N,selectedPlaceId:s?.placeId??null,hasMore:!!C,onLoadMore:W})})]})}),(0,b.jsx)(P.AnimatePresence,{children:w&&(0,b.jsx)(aa,{place:s,details:u,userLocation:y,onClose:O})})]})})}a.s(["RestaurantSearchPage",()=>af],77966)}];

//# sourceMappingURL=_da1fe39f._.js.map